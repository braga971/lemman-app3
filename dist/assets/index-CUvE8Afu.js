(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ff(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ku={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),Wf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Yf=Symbol.for("react.memo"),Xf=Symbol.for("react.lazy"),ya=Symbol.iterator;function Zf(t){return t===null||typeof t!="object"?null:(t=ya&&t[ya]||t["@@iterator"],typeof t=="function"?t:null)}var qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gu=Object.assign,Qu={};function Yn(t,e,n){this.props=t,this.context=e,this.refs=Qu,this.updater=n||qu}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ju(){}Ju.prototype=Yn.prototype;function ml(t,e,n){this.props=t,this.context=e,this.refs=Qu,this.updater=n||qu}var vl=ml.prototype=new Ju;vl.constructor=ml;Gu(vl,Yn.prototype);vl.isPureReactComponent=!0;var wa=Array.isArray,Yu=Object.prototype.hasOwnProperty,gl={current:null},Xu={key:!0,ref:!0,__self:!0,__source:!0};function Zu(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Yu.call(e,r)&&!Xu.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Gr,type:t,key:s,ref:o,props:i,_owner:gl.current}}function eh(t,e){return{$$typeof:Gr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gr}function th(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _a=/\/+/g;function bs(t,e){return typeof t=="object"&&t!==null&&t.key!=null?th(""+t.key):e.toString(36)}function Si(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gr:case Wf:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bs(o,0):r,wa(i)?(n="",t!=null&&(n=t.replace(_a,"$&/")+"/"),Si(i,e,n,"",function(c){return c})):i!=null&&(yl(i)&&(i=eh(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_a,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",wa(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+bs(s,l);o+=Si(s,e,n,a,i)}else if(a=Zf(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+bs(s,l++),o+=Si(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ni(t,e,n){if(t==null)return t;var r=[],i=0;return Si(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _e={current:null},Ci={transition:null},rh={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Ci,ReactCurrentOwner:gl};function ec(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:ni,forEach:function(t,e,n){ni(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ni(t,function(){e++}),e},toArray:function(t){return ni(t,function(e){return e})||[]},only:function(t){if(!yl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=Yn;D.Fragment=Hf;D.Profiler=Kf;D.PureComponent=ml;D.StrictMode=Vf;D.Suspense=Jf;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rh;D.act=ec;D.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gu({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Yu.call(e,a)&&!Xu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Gr,type:t.type,key:i,ref:s,props:r,_owner:o}};D.createContext=function(t){return t={$$typeof:Gf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qf,_context:t},t.Consumer=t};D.createElement=Zu;D.createFactory=function(t){var e=Zu.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Qf,render:t}};D.isValidElement=yl;D.lazy=function(t){return{$$typeof:Xf,_payload:{_status:-1,_result:t},_init:nh}};D.memo=function(t,e){return{$$typeof:Yf,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=Ci.transition;Ci.transition={};try{t()}finally{Ci.transition=e}};D.unstable_act=ec;D.useCallback=function(t,e){return _e.current.useCallback(t,e)};D.useContext=function(t){return _e.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return _e.current.useDeferredValue(t)};D.useEffect=function(t,e){return _e.current.useEffect(t,e)};D.useId=function(){return _e.current.useId()};D.useImperativeHandle=function(t,e,n){return _e.current.useImperativeHandle(t,e,n)};D.useInsertionEffect=function(t,e){return _e.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return _e.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return _e.current.useMemo(t,e)};D.useReducer=function(t,e,n){return _e.current.useReducer(t,e,n)};D.useRef=function(t){return _e.current.useRef(t)};D.useState=function(t){return _e.current.useState(t)};D.useSyncExternalStore=function(t,e,n){return _e.current.useSyncExternalStore(t,e,n)};D.useTransition=function(){return _e.current.useTransition()};D.version="18.3.1";Ku.exports=D;var b=Ku.exports;const u=Ff(b);var tc={exports:{}},Re={},nc={exports:{}},rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,R){var I=N.length;N.push(R);e:for(;0<I;){var q=I-1>>>1,G=N[q];if(0<i(G,R))N[q]=R,N[I]=G,I=q;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var R=N[0],I=N.pop();if(I!==R){N[0]=I;e:for(var q=0,G=N.length,vn=G>>>1;q<vn;){var Ze=2*(q+1)-1,qt=N[Ze],et=Ze+1,Gt=N[et];if(0>i(qt,I))et<G&&0>i(Gt,qt)?(N[q]=Gt,N[et]=I,q=et):(N[q]=qt,N[Ze]=I,q=Ze);else if(et<G&&0>i(Gt,I))N[q]=Gt,N[et]=I,q=et;else break e}}return R}function i(N,R){var I=N.sortIndex-R.sortIndex;return I!==0?I:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],f=1,d=null,m=3,y=!1,_=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(N){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=N)r(c),R.sortIndex=R.expirationTime,e(a,R);else break;R=n(c)}}function g(N){if(k=!1,h(N),!_)if(n(a)!==null)_=!0,mn(C);else{var R=n(c);R!==null&&Kt(g,R.startTime-N)}}function C(N,R){_=!1,k&&(k=!1,v(P),P=-1),y=!0;var I=m;try{for(h(R),d=n(a);d!==null&&(!(d.expirationTime>R)||N&&!Z());){var q=d.callback;if(typeof q=="function"){d.callback=null,m=d.priorityLevel;var G=q(d.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(a)&&r(a),h(R)}else r(a);d=n(a)}if(d!==null)var vn=!0;else{var Ze=n(c);Ze!==null&&Kt(g,Ze.startTime-R),vn=!1}return vn}finally{d=null,m=I,y=!1}}var S=!1,w=null,P=-1,F=5,$=-1;function Z(){return!(t.unstable_now()-$<F)}function Xe(){if(w!==null){var N=t.unstable_now();$=N;var R=!0;try{R=w(!0,N)}finally{R?_t():(S=!1,w=null)}}else S=!1}var _t;if(typeof p=="function")_t=function(){p(Xe)};else if(typeof MessageChannel<"u"){var nr=new MessageChannel,rr=nr.port2;nr.port1.onmessage=Xe,_t=function(){rr.postMessage(null)}}else _t=function(){x(Xe,0)};function mn(N){w=N,S||(S=!0,_t())}function Kt(N,R){P=x(function(){N(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,mn(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var I=m;m=R;try{return N()}finally{m=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var I=m;m=N;try{return R()}finally{m=I}},t.unstable_scheduleCallback=function(N,R,I){var q=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?q+I:q):I=q,N){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=I+G,N={id:f++,callback:R,priorityLevel:N,startTime:I,expirationTime:G,sortIndex:-1},I>q?(N.sortIndex=I,e(c,N),n(a)===null&&N===n(c)&&(k?(v(P),P=-1):k=!0,Kt(g,I-q))):(N.sortIndex=G,e(a,N),_||y||(_=!0,mn(C))),N},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(N){var R=m;return function(){var I=m;m=R;try{return N.apply(this,arguments)}finally{m=I}}}})(rc);nc.exports=rc;var ih=nc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=b,je=ih;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ic=new Set,br={};function fn(t,e){Wn(t,e),Wn(t+"Capture",e)}function Wn(t,e){for(br[t]=e,t=0;t<e.length;t++)ic.add(e[t])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=Object.prototype.hasOwnProperty,oh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ea={},ka={};function lh(t){return co.call(ka,t)?!0:co.call(Ea,t)?!1:oh.test(t)?ka[t]=!0:(Ea[t]=!0,!1)}function ah(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uh(t,e,n,r){if(e===null||typeof e>"u"||ah(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var wl=/[\-:]([a-z])/g;function _l(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wl,_l);fe[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wl,_l);fe[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wl,_l);fe[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function El(t,e,n,r){var i=fe.hasOwnProperty(e)?fe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uh(e,n,i,r)&&(n=null),r||i===null?lh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wt=sh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),kl=Symbol.for("react.strict_mode"),fo=Symbol.for("react.profiler"),sc=Symbol.for("react.provider"),oc=Symbol.for("react.context"),Sl=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),po=Symbol.for("react.suspense_list"),Cl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),lc=Symbol.for("react.offscreen"),Sa=Symbol.iterator;function ir(t){return t===null||typeof t!="object"?null:(t=Sa&&t[Sa]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,js;function hr(t){if(js===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);js=e&&e[1]||""}return`
`+js+t}var Rs=!1;function Is(t,e){if(!t||Rs)return"";Rs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Rs=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hr(t):""}function ch(t){switch(t.tag){case 5:return hr(t.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 2:case 15:return t=Is(t.type,!1),t;case 11:return t=Is(t.type.render,!1),t;case 1:return t=Is(t.type,!0),t;default:return""}}function mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xn:return"Fragment";case Tn:return"Portal";case fo:return"Profiler";case kl:return"StrictMode";case ho:return"Suspense";case po:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oc:return(t.displayName||"Context")+".Consumer";case sc:return(t._context.displayName||"Context")+".Provider";case Sl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cl:return e=t.displayName||null,e!==null?e:mo(t.type)||"Memo";case Ct:e=t._payload,t=t._init;try{return mo(t(e))}catch{}}return null}function dh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mo(e);case 8:return e===kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ac(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fh(t){var e=ac(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ii(t){t._valueTracker||(t._valueTracker=fh(t))}function uc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ac(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vo(t,e){var n=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ca(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cc(t,e){e=e.checked,e!=null&&El(t,"checked",e,!1)}function go(t,e){cc(t,e);var n=Mt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yo(t,e.type,n):e.hasOwnProperty("defaultValue")&&yo(t,e.type,Mt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ta(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yo(t,e,n){(e!=="number"||$i(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pr=Array.isArray;function Dn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(pr(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mt(n)}}function dc(t,e){var n=Mt(e.value),r=Mt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _o(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var si,hc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(si=si||document.createElement("div"),si.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=si.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hh=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(t){hh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yr[e]=yr[t]})});function pc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yr.hasOwnProperty(t)&&yr[t]?(""+e).trim():e+"px"}function mc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ph=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(t,e){if(e){if(ph[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function ko(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=null;function Tl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Co=null,zn=null,Un=null;function Na(t){if(t=Yr(t)){if(typeof Co!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ds(e),Co(t.stateNode,t.type,e))}}function vc(t){zn?Un?Un.push(t):Un=[t]:zn=t}function gc(){if(zn){var t=zn,e=Un;if(Un=zn=null,Na(t),e)for(t=0;t<e.length;t++)Na(e[t])}}function yc(t,e){return t(e)}function wc(){}var As=!1;function _c(t,e,n){if(As)return t(e,n);As=!0;try{return yc(t,e,n)}finally{As=!1,(zn!==null||Un!==null)&&(wc(),gc())}}function Rr(t,e){var n=t.stateNode;if(n===null)return null;var r=ds(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var To=!1;if(mt)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){To=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{To=!1}function mh(t,e,n,r,i,s,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var wr=!1,Li=null,Di=!1,xo=null,vh={onError:function(t){wr=!0,Li=t}};function gh(t,e,n,r,i,s,o,l,a){wr=!1,Li=null,mh.apply(vh,arguments)}function yh(t,e,n,r,i,s,o,l,a){if(gh.apply(this,arguments),wr){if(wr){var c=Li;wr=!1,Li=null}else throw Error(T(198));Di||(Di=!0,xo=c)}}function hn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ec(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oa(t){if(hn(t)!==t)throw Error(T(188))}function wh(t){var e=t.alternate;if(!e){if(e=hn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Oa(i),t;if(s===r)return Oa(i),e;s=s.sibling}throw Error(T(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function kc(t){return t=wh(t),t!==null?Sc(t):null}function Sc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sc(t);if(e!==null)return e;t=t.sibling}return null}var Cc=je.unstable_scheduleCallback,ba=je.unstable_cancelCallback,_h=je.unstable_shouldYield,Eh=je.unstable_requestPaint,ee=je.unstable_now,kh=je.unstable_getCurrentPriorityLevel,xl=je.unstable_ImmediatePriority,Tc=je.unstable_UserBlockingPriority,zi=je.unstable_NormalPriority,Sh=je.unstable_LowPriority,xc=je.unstable_IdlePriority,ls=null,st=null;function Ch(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(ls,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Ph,Th=Math.log,xh=Math.LN2;function Ph(t){return t>>>=0,t===0?32:31-(Th(t)/xh|0)|0}var oi=64,li=4194304;function mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ui(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=mr(l):(s&=o,s!==0&&(r=mr(s)))}else o=n&~i,o!==0?r=mr(o):s!==0&&(r=mr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qe(e),i=1<<n,r|=t[n],e&=~i;return r}function Nh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oh(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qe(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Nh(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Po(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pc(){var t=oi;return oi<<=1,!(oi&4194240)&&(oi=64),t}function $s(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qe(e),t[e]=n}function bh(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qe(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qe(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var M=0;function Nc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Oc,Nl,bc,jc,Rc,No=!1,ai=[],jt=null,Rt=null,It=null,Ir=new Map,Ar=new Map,xt=[],jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ja(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ir.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(e.pointerId)}}function or(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yr(e),e!==null&&Nl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Rh(t,e,n,r,i){switch(e){case"focusin":return jt=or(jt,t,e,n,r,i),!0;case"dragenter":return Rt=or(Rt,t,e,n,r,i),!0;case"mouseover":return It=or(It,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ir.set(s,or(Ir.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ar.set(s,or(Ar.get(s)||null,t,e,n,r,i)),!0}return!1}function Ic(t){var e=tn(t.target);if(e!==null){var n=hn(e);if(n!==null){if(e=n.tag,e===13){if(e=Ec(n),e!==null){t.blockedOn=e,Rc(t.priority,function(){bc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ti(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);So=r,n.target.dispatchEvent(r),So=null}else return e=Yr(n),e!==null&&Nl(e),t.blockedOn=n,!1;e.shift()}return!0}function Ra(t,e,n){Ti(t)&&n.delete(e)}function Ih(){No=!1,jt!==null&&Ti(jt)&&(jt=null),Rt!==null&&Ti(Rt)&&(Rt=null),It!==null&&Ti(It)&&(It=null),Ir.forEach(Ra),Ar.forEach(Ra)}function lr(t,e){t.blockedOn===e&&(t.blockedOn=null,No||(No=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,Ih)))}function $r(t){function e(i){return lr(i,t)}if(0<ai.length){lr(ai[0],t);for(var n=1;n<ai.length;n++){var r=ai[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&lr(jt,t),Rt!==null&&lr(Rt,t),It!==null&&lr(It,t),Ir.forEach(e),Ar.forEach(e),n=0;n<xt.length;n++)r=xt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)Ic(n),n.blockedOn===null&&xt.shift()}var Mn=wt.ReactCurrentBatchConfig,Mi=!0;function Ah(t,e,n,r){var i=M,s=Mn.transition;Mn.transition=null;try{M=1,Ol(t,e,n,r)}finally{M=i,Mn.transition=s}}function $h(t,e,n,r){var i=M,s=Mn.transition;Mn.transition=null;try{M=4,Ol(t,e,n,r)}finally{M=i,Mn.transition=s}}function Ol(t,e,n,r){if(Mi){var i=Oo(t,e,n,r);if(i===null)Vs(t,e,r,Fi,n),ja(t,r);else if(Rh(i,t,e,n,r))r.stopPropagation();else if(ja(t,r),e&4&&-1<jh.indexOf(t)){for(;i!==null;){var s=Yr(i);if(s!==null&&Oc(s),s=Oo(t,e,n,r),s===null&&Vs(t,e,r,Fi,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vs(t,e,r,null,n)}}var Fi=null;function Oo(t,e,n,r){if(Fi=null,t=Tl(r),t=tn(t),t!==null)if(e=hn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ec(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fi=t,null}function Ac(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kh()){case xl:return 1;case Tc:return 4;case zi:case Sh:return 16;case xc:return 536870912;default:return 16}default:return 16}}var Ot=null,bl=null,xi=null;function $c(){if(xi)return xi;var t,e=bl,n=e.length,r,i="value"in Ot?Ot.value:Ot.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return xi=i.slice(t,1<r?1-r:void 0)}function Pi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ui(){return!0}function Ia(){return!1}function Ie(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ui:Ia,this.isPropagationStopped=Ia,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),e}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Ie(Xn),Jr=Y({},Xn,{view:0,detail:0}),Lh=Ie(Jr),Ls,Ds,ar,as=Y({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(Ls=t.screenX-ar.screenX,Ds=t.screenY-ar.screenY):Ds=Ls=0,ar=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Ds}}),Aa=Ie(as),Dh=Y({},as,{dataTransfer:0}),zh=Ie(Dh),Uh=Y({},Jr,{relatedTarget:0}),zs=Ie(Uh),Mh=Y({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=Ie(Mh),Bh=Y({},Xn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wh=Ie(Bh),Hh=Y({},Xn,{data:0}),$a=Ie(Hh),Vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qh[t])?!!e[t]:!1}function Rl(){return Gh}var Qh=Y({},Jr,{key:function(t){if(t.key){var e=Vh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(t){return t.type==="keypress"?Pi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jh=Ie(Qh),Yh=Y({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),La=Ie(Yh),Xh=Y({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),Zh=Ie(Xh),ep=Y({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tp=Ie(ep),np=Y({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rp=Ie(np),ip=[9,13,27,32],Il=mt&&"CompositionEvent"in window,_r=null;mt&&"documentMode"in document&&(_r=document.documentMode);var sp=mt&&"TextEvent"in window&&!_r,Lc=mt&&(!Il||_r&&8<_r&&11>=_r),Da=" ",za=!1;function Dc(t,e){switch(t){case"keyup":return ip.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pn=!1;function op(t,e){switch(t){case"compositionend":return zc(e);case"keypress":return e.which!==32?null:(za=!0,Da);case"textInput":return t=e.data,t===Da&&za?null:t;default:return null}}function lp(t,e){if(Pn)return t==="compositionend"||!Il&&Dc(t,e)?(t=$c(),xi=bl=Ot=null,Pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lc&&e.locale!=="ko"?null:e.data;default:return null}}var ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ua(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ap[t.type]:e==="textarea"}function Uc(t,e,n,r){vc(r),e=Bi(e,"onChange"),0<e.length&&(n=new jl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Er=null,Lr=null;function up(t){Jc(t,0)}function us(t){var e=bn(t);if(uc(e))return t}function cp(t,e){if(t==="change")return e}var Mc=!1;if(mt){var Us;if(mt){var Ms="oninput"in document;if(!Ms){var Ma=document.createElement("div");Ma.setAttribute("oninput","return;"),Ms=typeof Ma.oninput=="function"}Us=Ms}else Us=!1;Mc=Us&&(!document.documentMode||9<document.documentMode)}function Fa(){Er&&(Er.detachEvent("onpropertychange",Fc),Lr=Er=null)}function Fc(t){if(t.propertyName==="value"&&us(Lr)){var e=[];Uc(e,Lr,t,Tl(t)),_c(up,e)}}function dp(t,e,n){t==="focusin"?(Fa(),Er=e,Lr=n,Er.attachEvent("onpropertychange",Fc)):t==="focusout"&&Fa()}function fp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return us(Lr)}function hp(t,e){if(t==="click")return us(e)}function pp(t,e){if(t==="input"||t==="change")return us(e)}function mp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:mp;function Dr(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!co.call(e,i)||!Ye(t[i],e[i]))return!1}return!0}function Ba(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wa(t,e){var n=Ba(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ba(n)}}function Bc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Wc(){for(var t=window,e=$i();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$i(t.document)}return e}function Al(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vp(t){var e=Wc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Bc(n.ownerDocument.documentElement,n)){if(r!==null&&Al(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Wa(n,s);var o=Wa(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gp=mt&&"documentMode"in document&&11>=document.documentMode,Nn=null,bo=null,kr=null,jo=!1;function Ha(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jo||Nn==null||Nn!==$i(r)||(r=Nn,"selectionStart"in r&&Al(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kr&&Dr(kr,r)||(kr=r,r=Bi(bo,"onSelect"),0<r.length&&(e=new jl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nn)))}function ci(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var On={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},Fs={},Hc={};mt&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function cs(t){if(Fs[t])return Fs[t];if(!On[t])return t;var e=On[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Hc)return Fs[t]=e[n];return t}var Vc=cs("animationend"),Kc=cs("animationiteration"),qc=cs("animationstart"),Gc=cs("transitionend"),Qc=new Map,Va="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(t,e){Qc.set(t,e),fn(e,[t])}for(var Bs=0;Bs<Va.length;Bs++){var Ws=Va[Bs],yp=Ws.toLowerCase(),wp=Ws[0].toUpperCase()+Ws.slice(1);Bt(yp,"on"+wp)}Bt(Vc,"onAnimationEnd");Bt(Kc,"onAnimationIteration");Bt(qc,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(Gc,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_p=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function Ka(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yh(r,e,void 0,t),t.currentTarget=null}function Jc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Ka(i,l,c),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Ka(i,l,c),s=a}}}if(Di)throw t=xo,Di=!1,xo=null,t}function H(t,e){var n=e[Lo];n===void 0&&(n=e[Lo]=new Set);var r=t+"__bubble";n.has(r)||(Yc(e,t,2,!1),n.add(r))}function Hs(t,e,n){var r=0;e&&(r|=4),Yc(n,t,r,e)}var di="_reactListening"+Math.random().toString(36).slice(2);function zr(t){if(!t[di]){t[di]=!0,ic.forEach(function(n){n!=="selectionchange"&&(_p.has(n)||Hs(n,!1,t),Hs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[di]||(e[di]=!0,Hs("selectionchange",!1,e))}}function Yc(t,e,n,r){switch(Ac(e)){case 1:var i=Ah;break;case 4:i=$h;break;default:i=Ol}n=i.bind(null,e,n,t),i=void 0,!To||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vs(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=tn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}_c(function(){var c=s,f=Tl(n),d=[];e:{var m=Qc.get(t);if(m!==void 0){var y=jl,_=t;switch(t){case"keypress":if(Pi(n)===0)break e;case"keydown":case"keyup":y=Jh;break;case"focusin":_="focus",y=zs;break;case"focusout":_="blur",y=zs;break;case"beforeblur":case"afterblur":y=zs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Zh;break;case Vc:case Kc:case qc:y=Fh;break;case Gc:y=tp;break;case"scroll":y=Lh;break;case"wheel":y=rp;break;case"copy":case"cut":case"paste":y=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=La}var k=(e&4)!==0,x=!k&&t==="scroll",v=k?m!==null?m+"Capture":null:m;k=[];for(var p=c,h;p!==null;){h=p;var g=h.stateNode;if(h.tag===5&&g!==null&&(h=g,v!==null&&(g=Rr(p,v),g!=null&&k.push(Ur(p,g,h)))),x)break;p=p.return}0<k.length&&(m=new y(m,_,null,n,f),d.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==So&&(_=n.relatedTarget||n.fromElement)&&(tn(_)||_[vt]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?tn(_):null,_!==null&&(x=hn(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(k=Aa,g="onMouseLeave",v="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(k=La,g="onPointerLeave",v="onPointerEnter",p="pointer"),x=y==null?m:bn(y),h=_==null?m:bn(_),m=new k(g,p+"leave",y,n,f),m.target=x,m.relatedTarget=h,g=null,tn(f)===c&&(k=new k(v,p+"enter",_,n,f),k.target=h,k.relatedTarget=x,g=k),x=g,y&&_)t:{for(k=y,v=_,p=0,h=k;h;h=gn(h))p++;for(h=0,g=v;g;g=gn(g))h++;for(;0<p-h;)k=gn(k),p--;for(;0<h-p;)v=gn(v),h--;for(;p--;){if(k===v||v!==null&&k===v.alternate)break t;k=gn(k),v=gn(v)}k=null}else k=null;y!==null&&qa(d,m,y,k,!1),_!==null&&x!==null&&qa(d,x,_,k,!0)}}e:{if(m=c?bn(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var C=cp;else if(Ua(m))if(Mc)C=pp;else{C=fp;var S=dp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=hp);if(C&&(C=C(t,c))){Uc(d,C,n,f);break e}S&&S(t,m,c),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&yo(m,"number",m.value)}switch(S=c?bn(c):window,t){case"focusin":(Ua(S)||S.contentEditable==="true")&&(Nn=S,bo=c,kr=null);break;case"focusout":kr=bo=Nn=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Ha(d,n,f);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":Ha(d,n,f)}var w;if(Il)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Pn?Dc(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Lc&&n.locale!=="ko"&&(Pn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Pn&&(w=$c()):(Ot=f,bl="value"in Ot?Ot.value:Ot.textContent,Pn=!0)),S=Bi(c,P),0<S.length&&(P=new $a(P,t,null,n,f),d.push({event:P,listeners:S}),w?P.data=w:(w=zc(n),w!==null&&(P.data=w)))),(w=sp?op(t,n):lp(t,n))&&(c=Bi(c,"onBeforeInput"),0<c.length&&(f=new $a("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=w))}Jc(d,e)})}function Ur(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bi(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rr(t,n),s!=null&&r.unshift(Ur(t,s,i)),s=Rr(t,e),s!=null&&r.push(Ur(t,s,i))),t=t.return}return r}function gn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qa(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,i?(a=Rr(n,s),a!=null&&o.unshift(Ur(n,a,l))):i||(a=Rr(n,s),a!=null&&o.push(Ur(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ep=/\r\n?/g,kp=/\u0000|\uFFFD/g;function Ga(t){return(typeof t=="string"?t:""+t).replace(Ep,`
`).replace(kp,"")}function fi(t,e,n){if(e=Ga(e),Ga(t)!==e&&n)throw Error(T(425))}function Wi(){}var Ro=null,Io=null;function Ao(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $o=typeof setTimeout=="function"?setTimeout:void 0,Sp=typeof clearTimeout=="function"?clearTimeout:void 0,Qa=typeof Promise=="function"?Promise:void 0,Cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Qa<"u"?function(t){return Qa.resolve(null).then(t).catch(Tp)}:$o;function Tp(t){setTimeout(function(){throw t})}function Ks(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$r(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$r(e)}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ja(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),it="__reactFiber$"+Zn,Mr="__reactProps$"+Zn,vt="__reactContainer$"+Zn,Lo="__reactEvents$"+Zn,xp="__reactListeners$"+Zn,Pp="__reactHandles$"+Zn;function tn(t){var e=t[it];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vt]||n[it]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ja(t);t!==null;){if(n=t[it])return n;t=Ja(t)}return e}t=n,n=t.parentNode}return null}function Yr(t){return t=t[it]||t[vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ds(t){return t[Mr]||null}var Do=[],jn=-1;function Wt(t){return{current:t}}function V(t){0>jn||(t.current=Do[jn],Do[jn]=null,jn--)}function W(t,e){jn++,Do[jn]=t.current,t.current=e}var Ft={},ve=Wt(Ft),Te=Wt(!1),ln=Ft;function Hn(t,e){var n=t.type.contextTypes;if(!n)return Ft;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xe(t){return t=t.childContextTypes,t!=null}function Hi(){V(Te),V(ve)}function Ya(t,e,n){if(ve.current!==Ft)throw Error(T(168));W(ve,e),W(Te,n)}function Xc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(T(108,dh(t)||"Unknown",i));return Y({},n,r)}function Vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ft,ln=ve.current,W(ve,t),W(Te,Te.current),!0}function Xa(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=Xc(t,e,ln),r.__reactInternalMemoizedMergedChildContext=t,V(Te),V(ve),W(ve,t)):V(Te),W(Te,n)}var dt=null,fs=!1,qs=!1;function Zc(t){dt===null?dt=[t]:dt.push(t)}function Np(t){fs=!0,Zc(t)}function Ht(){if(!qs&&dt!==null){qs=!0;var t=0,e=M;try{var n=dt;for(M=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dt=null,fs=!1}catch(i){throw dt!==null&&(dt=dt.slice(t+1)),Cc(xl,Ht),i}finally{M=e,qs=!1}}return null}var Rn=[],In=0,Ki=null,qi=0,Ae=[],$e=0,an=null,ft=1,ht="";function Yt(t,e){Rn[In++]=qi,Rn[In++]=Ki,Ki=t,qi=e}function ed(t,e,n){Ae[$e++]=ft,Ae[$e++]=ht,Ae[$e++]=an,an=t;var r=ft;t=ht;var i=32-Qe(r)-1;r&=~(1<<i),n+=1;var s=32-Qe(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ft=1<<32-Qe(e)+i|n<<i|r,ht=s+t}else ft=1<<s|n<<i|r,ht=t}function $l(t){t.return!==null&&(Yt(t,1),ed(t,1,0))}function Ll(t){for(;t===Ki;)Ki=Rn[--In],Rn[In]=null,qi=Rn[--In],Rn[In]=null;for(;t===an;)an=Ae[--$e],Ae[$e]=null,ht=Ae[--$e],Ae[$e]=null,ft=Ae[--$e],Ae[$e]=null}var be=null,Oe=null,K=!1,Ke=null;function td(t,e){var n=Le(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Za(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,be=t,Oe=At(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,be=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=an!==null?{id:ft,overflow:ht}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Le(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,be=t,Oe=null,!0):!1;default:return!1}}function zo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uo(t){if(K){var e=Oe;if(e){var n=e;if(!Za(t,e)){if(zo(t))throw Error(T(418));e=At(n.nextSibling);var r=be;e&&Za(t,e)?td(r,n):(t.flags=t.flags&-4097|2,K=!1,be=t)}}else{if(zo(t))throw Error(T(418));t.flags=t.flags&-4097|2,K=!1,be=t}}}function eu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;be=t}function hi(t){if(t!==be)return!1;if(!K)return eu(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ao(t.type,t.memoizedProps)),e&&(e=Oe)){if(zo(t))throw nd(),Error(T(418));for(;e;)td(t,e),e=At(e.nextSibling)}if(eu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oe=At(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=be?At(t.stateNode.nextSibling):null;return!0}function nd(){for(var t=Oe;t;)t=At(t.nextSibling)}function Vn(){Oe=be=null,K=!1}function Dl(t){Ke===null?Ke=[t]:Ke.push(t)}var Op=wt.ReactCurrentBatchConfig;function ur(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function pi(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tu(t){var e=t._init;return e(t._payload)}function rd(t){function e(v,p){if(t){var h=v.deletions;h===null?(v.deletions=[p],v.flags|=16):h.push(p)}}function n(v,p){if(!t)return null;for(;p!==null;)e(v,p),p=p.sibling;return null}function r(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function i(v,p){return v=zt(v,p),v.index=0,v.sibling=null,v}function s(v,p,h){return v.index=h,t?(h=v.alternate,h!==null?(h=h.index,h<p?(v.flags|=2,p):h):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,p,h,g){return p===null||p.tag!==6?(p=eo(h,v.mode,g),p.return=v,p):(p=i(p,h),p.return=v,p)}function a(v,p,h,g){var C=h.type;return C===xn?f(v,p,h.props.children,g,h.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ct&&tu(C)===p.type)?(g=i(p,h.props),g.ref=ur(v,p,h),g.return=v,g):(g=Ai(h.type,h.key,h.props,null,v.mode,g),g.ref=ur(v,p,h),g.return=v,g)}function c(v,p,h,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=to(h,v.mode,g),p.return=v,p):(p=i(p,h.children||[]),p.return=v,p)}function f(v,p,h,g,C){return p===null||p.tag!==7?(p=on(h,v.mode,g,C),p.return=v,p):(p=i(p,h),p.return=v,p)}function d(v,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=eo(""+p,v.mode,h),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ri:return h=Ai(p.type,p.key,p.props,null,v.mode,h),h.ref=ur(v,null,p),h.return=v,h;case Tn:return p=to(p,v.mode,h),p.return=v,p;case Ct:var g=p._init;return d(v,g(p._payload),h)}if(pr(p)||ir(p))return p=on(p,v.mode,h,null),p.return=v,p;pi(v,p)}return null}function m(v,p,h,g){var C=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:l(v,p,""+h,g);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:return h.key===C?a(v,p,h,g):null;case Tn:return h.key===C?c(v,p,h,g):null;case Ct:return C=h._init,m(v,p,C(h._payload),g)}if(pr(h)||ir(h))return C!==null?null:f(v,p,h,g,null);pi(v,h)}return null}function y(v,p,h,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return v=v.get(h)||null,l(p,v,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ri:return v=v.get(g.key===null?h:g.key)||null,a(p,v,g,C);case Tn:return v=v.get(g.key===null?h:g.key)||null,c(p,v,g,C);case Ct:var S=g._init;return y(v,p,h,S(g._payload),C)}if(pr(g)||ir(g))return v=v.get(h)||null,f(p,v,g,C,null);pi(p,g)}return null}function _(v,p,h,g){for(var C=null,S=null,w=p,P=p=0,F=null;w!==null&&P<h.length;P++){w.index>P?(F=w,w=null):F=w.sibling;var $=m(v,w,h[P],g);if($===null){w===null&&(w=F);break}t&&w&&$.alternate===null&&e(v,w),p=s($,p,P),S===null?C=$:S.sibling=$,S=$,w=F}if(P===h.length)return n(v,w),K&&Yt(v,P),C;if(w===null){for(;P<h.length;P++)w=d(v,h[P],g),w!==null&&(p=s(w,p,P),S===null?C=w:S.sibling=w,S=w);return K&&Yt(v,P),C}for(w=r(v,w);P<h.length;P++)F=y(w,v,P,h[P],g),F!==null&&(t&&F.alternate!==null&&w.delete(F.key===null?P:F.key),p=s(F,p,P),S===null?C=F:S.sibling=F,S=F);return t&&w.forEach(function(Z){return e(v,Z)}),K&&Yt(v,P),C}function k(v,p,h,g){var C=ir(h);if(typeof C!="function")throw Error(T(150));if(h=C.call(h),h==null)throw Error(T(151));for(var S=C=null,w=p,P=p=0,F=null,$=h.next();w!==null&&!$.done;P++,$=h.next()){w.index>P?(F=w,w=null):F=w.sibling;var Z=m(v,w,$.value,g);if(Z===null){w===null&&(w=F);break}t&&w&&Z.alternate===null&&e(v,w),p=s(Z,p,P),S===null?C=Z:S.sibling=Z,S=Z,w=F}if($.done)return n(v,w),K&&Yt(v,P),C;if(w===null){for(;!$.done;P++,$=h.next())$=d(v,$.value,g),$!==null&&(p=s($,p,P),S===null?C=$:S.sibling=$,S=$);return K&&Yt(v,P),C}for(w=r(v,w);!$.done;P++,$=h.next())$=y(w,v,P,$.value,g),$!==null&&(t&&$.alternate!==null&&w.delete($.key===null?P:$.key),p=s($,p,P),S===null?C=$:S.sibling=$,S=$);return t&&w.forEach(function(Xe){return e(v,Xe)}),K&&Yt(v,P),C}function x(v,p,h,g){if(typeof h=="object"&&h!==null&&h.type===xn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ri:e:{for(var C=h.key,S=p;S!==null;){if(S.key===C){if(C=h.type,C===xn){if(S.tag===7){n(v,S.sibling),p=i(S,h.props.children),p.return=v,v=p;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ct&&tu(C)===S.type){n(v,S.sibling),p=i(S,h.props),p.ref=ur(v,S,h),p.return=v,v=p;break e}n(v,S);break}else e(v,S);S=S.sibling}h.type===xn?(p=on(h.props.children,v.mode,g,h.key),p.return=v,v=p):(g=Ai(h.type,h.key,h.props,null,v.mode,g),g.ref=ur(v,p,h),g.return=v,v=g)}return o(v);case Tn:e:{for(S=h.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(v,p.sibling),p=i(p,h.children||[]),p.return=v,v=p;break e}else{n(v,p);break}else e(v,p);p=p.sibling}p=to(h,v.mode,g),p.return=v,v=p}return o(v);case Ct:return S=h._init,x(v,p,S(h._payload),g)}if(pr(h))return _(v,p,h,g);if(ir(h))return k(v,p,h,g);pi(v,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(v,p.sibling),p=i(p,h),p.return=v,v=p):(n(v,p),p=eo(h,v.mode,g),p.return=v,v=p),o(v)):n(v,p)}return x}var Kn=rd(!0),id=rd(!1),Gi=Wt(null),Qi=null,An=null,zl=null;function Ul(){zl=An=Qi=null}function Ml(t){var e=Gi.current;V(Gi),t._currentValue=e}function Mo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fn(t,e){Qi=t,zl=An=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ce=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if(zl!==t)if(t={context:t,memoizedValue:e,next:null},An===null){if(Qi===null)throw Error(T(308));An=t,Qi.dependencies={lanes:0,firstContext:t}}else An=An.next=t;return e}var nn=null;function Fl(t){nn===null?nn=[t]:nn.push(t)}function sd(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fl(e)):(n.next=i.next,i.next=n),e.interleaved=n,gt(t,r)}function gt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tt=!1;function Bl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function od(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $t(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gt(t,n)}return i=r.interleaved,i===null?(e.next=e,Fl(r)):(e.next=i.next,i.next=e),r.interleaved=e,gt(t,n)}function Ni(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pl(t,n)}}function nu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ji(t,e,n,r){var i=t.updateQueue;Tt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?s=c:o.next=c,o=a;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,f=c=a=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,k=l;switch(m=e,y=n,k.tag){case 1:if(_=k.payload,typeof _=="function"){d=_.call(y,d,m);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=k.payload,m=typeof _=="function"?_.call(y,d,m):_,m==null)break e;d=Y({},d,m);break e;case 2:Tt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,a=d):f=f.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(a=d),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cn|=o,t.lanes=o,t.memoizedState=d}}function ru(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(T(191,i));i.call(r)}}}var Xr={},ot=Wt(Xr),Fr=Wt(Xr),Br=Wt(Xr);function rn(t){if(t===Xr)throw Error(T(174));return t}function Wl(t,e){switch(W(Br,e),W(Fr,t),W(ot,Xr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_o(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_o(e,t)}V(ot),W(ot,e)}function qn(){V(ot),V(Fr),V(Br)}function ld(t){rn(Br.current);var e=rn(ot.current),n=_o(e,t.type);e!==n&&(W(Fr,t),W(ot,n))}function Hl(t){Fr.current===t&&(V(ot),V(Fr))}var Q=Wt(0);function Yi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gs=[];function Vl(){for(var t=0;t<Gs.length;t++)Gs[t]._workInProgressVersionPrimary=null;Gs.length=0}var Oi=wt.ReactCurrentDispatcher,Qs=wt.ReactCurrentBatchConfig,un=0,J=null,se=null,ae=null,Xi=!1,Sr=!1,Wr=0,bp=0;function he(){throw Error(T(321))}function Kl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ye(t[n],e[n]))return!1;return!0}function ql(t,e,n,r,i,s){if(un=s,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oi.current=t===null||t.memoizedState===null?Ap:$p,t=n(r,i),Sr){s=0;do{if(Sr=!1,Wr=0,25<=s)throw Error(T(301));s+=1,ae=se=null,e.updateQueue=null,Oi.current=Lp,t=n(r,i)}while(Sr)}if(Oi.current=Zi,e=se!==null&&se.next!==null,un=0,ae=se=J=null,Xi=!1,e)throw Error(T(300));return t}function Gl(){var t=Wr!==0;return Wr=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?J.memoizedState=ae=t:ae=ae.next=t,ae}function Me(){if(se===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ae===null?J.memoizedState:ae.next;if(e!==null)ae=e,se=t;else{if(t===null)throw Error(T(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?J.memoizedState=ae=t:ae=ae.next=t}return ae}function Hr(t,e){return typeof e=="function"?e(t):e}function Js(t){var e=Me(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=se,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,c=s;do{var f=c.lane;if((un&f)===f)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,J.lanes|=f,cn|=f}c=c.next}while(c!==null&&c!==s);a===null?o=r:a.next=l,Ye(r,e.memoizedState)||(Ce=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,J.lanes|=s,cn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ys(t){var e=Me(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ye(s,e.memoizedState)||(Ce=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ad(){}function ud(t,e){var n=J,r=Me(),i=e(),s=!Ye(r.memoizedState,i);if(s&&(r.memoizedState=i,Ce=!0),r=r.queue,Ql(fd.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ae!==null&&ae.memoizedState.tag&1){if(n.flags|=2048,Vr(9,dd.bind(null,n,r,i,e),void 0,null),ue===null)throw Error(T(349));un&30||cd(n,e,i)}return i}function cd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dd(t,e,n,r){e.value=n,e.getSnapshot=r,hd(e)&&pd(t)}function fd(t,e,n){return n(function(){hd(e)&&pd(t)})}function hd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ye(t,n)}catch{return!0}}function pd(t){var e=gt(t,1);e!==null&&Je(e,t,1,-1)}function iu(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:t},e.queue=t,t=t.dispatch=Ip.bind(null,J,t),[e.memoizedState,t]}function Vr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function md(){return Me().memoizedState}function bi(t,e,n,r){var i=nt();J.flags|=t,i.memoizedState=Vr(1|e,n,void 0,r===void 0?null:r)}function hs(t,e,n,r){var i=Me();r=r===void 0?null:r;var s=void 0;if(se!==null){var o=se.memoizedState;if(s=o.destroy,r!==null&&Kl(r,o.deps)){i.memoizedState=Vr(e,n,s,r);return}}J.flags|=t,i.memoizedState=Vr(1|e,n,s,r)}function su(t,e){return bi(8390656,8,t,e)}function Ql(t,e){return hs(2048,8,t,e)}function vd(t,e){return hs(4,2,t,e)}function gd(t,e){return hs(4,4,t,e)}function yd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wd(t,e,n){return n=n!=null?n.concat([t]):null,hs(4,4,yd.bind(null,e,t),n)}function Jl(){}function _d(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ed(t,e){var n=Me();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kd(t,e,n){return un&21?(Ye(n,e)||(n=Pc(),J.lanes|=n,cn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ce=!0),t.memoizedState=n)}function jp(t,e){var n=M;M=n!==0&&4>n?n:4,t(!0);var r=Qs.transition;Qs.transition={};try{t(!1),e()}finally{M=n,Qs.transition=r}}function Sd(){return Me().memoizedState}function Rp(t,e,n){var r=Dt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cd(t))Td(e,n);else if(n=sd(t,e,n,r),n!==null){var i=we();Je(n,t,r,i),xd(n,e,r)}}function Ip(t,e,n){var r=Dt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cd(t))Td(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ye(l,o)){var a=e.interleaved;a===null?(i.next=i,Fl(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=sd(t,e,i,r),n!==null&&(i=we(),Je(n,t,r,i),xd(n,e,r))}}function Cd(t){var e=t.alternate;return t===J||e!==null&&e===J}function Td(t,e){Sr=Xi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pl(t,n)}}var Zi={readContext:Ue,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Ap={readContext:Ue,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:su,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bi(4194308,4,yd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bi(4194308,4,t,e)},useInsertionEffect:function(t,e){return bi(4,2,t,e)},useMemo:function(t,e){var n=nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Rp.bind(null,J,t),[r.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:iu,useDebugValue:Jl,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=iu(!1),e=t[0];return t=jp.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=J,i=nt();if(K){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),ue===null)throw Error(T(349));un&30||cd(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,su(fd.bind(null,r,s,t),[t]),r.flags|=2048,Vr(9,dd.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nt(),e=ue.identifierPrefix;if(K){var n=ht,r=ft;n=(r&~(1<<32-Qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$p={readContext:Ue,useCallback:_d,useContext:Ue,useEffect:Ql,useImperativeHandle:wd,useInsertionEffect:vd,useLayoutEffect:gd,useMemo:Ed,useReducer:Js,useRef:md,useState:function(){return Js(Hr)},useDebugValue:Jl,useDeferredValue:function(t){var e=Me();return kd(e,se.memoizedState,t)},useTransition:function(){var t=Js(Hr)[0],e=Me().memoizedState;return[t,e]},useMutableSource:ad,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1},Lp={readContext:Ue,useCallback:_d,useContext:Ue,useEffect:Ql,useImperativeHandle:wd,useInsertionEffect:vd,useLayoutEffect:gd,useMemo:Ed,useReducer:Ys,useRef:md,useState:function(){return Ys(Hr)},useDebugValue:Jl,useDeferredValue:function(t){var e=Me();return se===null?e.memoizedState=t:kd(e,se.memoizedState,t)},useTransition:function(){var t=Ys(Hr)[0],e=Me().memoizedState;return[t,e]},useMutableSource:ad,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1};function We(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ps={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=we(),i=Dt(t),s=pt(r,i);s.payload=e,n!=null&&(s.callback=n),e=$t(t,s,i),e!==null&&(Je(e,t,i,r),Ni(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=we(),i=Dt(t),s=pt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$t(t,s,i),e!==null&&(Je(e,t,i,r),Ni(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=we(),r=Dt(t),i=pt(n,r);i.tag=2,e!=null&&(i.callback=e),e=$t(t,i,r),e!==null&&(Je(e,t,r,n),Ni(e,t,r))}};function ou(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dr(n,r)||!Dr(i,s):!0}function Pd(t,e,n){var r=!1,i=Ft,s=e.contextType;return typeof s=="object"&&s!==null?s=Ue(s):(i=xe(e)?ln:ve.current,r=e.contextTypes,s=(r=r!=null)?Hn(t,i):Ft),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ps,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ps.enqueueReplaceState(e,e.state,null)}function Bo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bl(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ue(s):(s=xe(e)?ln:ve.current,i.context=Hn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fo(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ps.enqueueReplaceState(i,i.state,null),Ji(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gn(t,e){try{var n="",r=e;do n+=ch(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xs(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dp=typeof WeakMap=="function"?WeakMap:Map;function Nd(t,e,n){n=pt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ts||(ts=!0,Zo=r),Wo(t,e)},n}function Od(t,e,n){n=pt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wo(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wo(t,e),typeof r!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function au(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Dp;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Yp.bind(null,t,e,n),e.then(t,t))}function uu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cu(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pt(-1,1),e.tag=2,$t(n,e,1))),n.lanes|=1),t)}var zp=wt.ReactCurrentOwner,Ce=!1;function ye(t,e,n,r){e.child=t===null?id(e,null,n,r):Kn(e,t.child,n,r)}function du(t,e,n,r,i){n=n.render;var s=e.ref;return Fn(e,i),r=ql(t,e,n,r,s,i),n=Gl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yt(t,e,i)):(K&&n&&$l(e),e.flags|=1,ye(t,e,r,i),e.child)}function fu(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ia(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bd(t,e,s,r,i)):(t=Ai(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dr,n(o,r)&&t.ref===e.ref)return yt(t,e,i)}return e.flags|=1,t=zt(s,r),t.ref=e.ref,t.return=e,e.child=t}function bd(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dr(s,r)&&t.ref===e.ref)if(Ce=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ce=!0);else return e.lanes=t.lanes,yt(t,e,i)}return Ho(t,e,n,r,i)}function jd(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Ln,Ne),Ne|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(Ln,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,W(Ln,Ne),Ne|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,W(Ln,Ne),Ne|=r;return ye(t,e,i,n),e.child}function Rd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ho(t,e,n,r,i){var s=xe(n)?ln:ve.current;return s=Hn(e,s),Fn(e,i),n=ql(t,e,n,r,s,i),r=Gl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yt(t,e,i)):(K&&r&&$l(e),e.flags|=1,ye(t,e,n,i),e.child)}function hu(t,e,n,r,i){if(xe(n)){var s=!0;Vi(e)}else s=!1;if(Fn(e,i),e.stateNode===null)ji(t,e),Pd(e,n,r),Bo(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ue(c):(c=xe(n)?ln:ve.current,c=Hn(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&lu(e,o,r,c),Tt=!1;var m=e.memoizedState;o.state=m,Ji(e,r,o,i),a=e.memoizedState,l!==r||m!==a||Te.current||Tt?(typeof f=="function"&&(Fo(e,n,f,r),a=e.memoizedState),(l=Tt||ou(e,n,l,r,m,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,od(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:We(e.type,l),o.props=c,d=e.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=xe(n)?ln:ve.current,a=Hn(e,a));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||m!==a)&&lu(e,o,r,a),Tt=!1,m=e.memoizedState,o.state=m,Ji(e,r,o,i);var _=e.memoizedState;l!==d||m!==_||Te.current||Tt?(typeof y=="function"&&(Fo(e,n,y,r),_=e.memoizedState),(c=Tt||ou(e,n,c,r,m,_,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Vo(t,e,n,r,s,i)}function Vo(t,e,n,r,i,s){Rd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xa(e,n,!1),yt(t,e,s);r=e.stateNode,zp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Kn(e,t.child,null,s),e.child=Kn(e,null,l,s)):ye(t,e,l,s),e.memoizedState=r.state,i&&Xa(e,n,!0),e.child}function Id(t){var e=t.stateNode;e.pendingContext?Ya(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ya(t,e.context,!1),Wl(t,e.containerInfo)}function pu(t,e,n,r,i){return Vn(),Dl(i),e.flags|=256,ye(t,e,n,r),e.child}var Ko={dehydrated:null,treeContext:null,retryLane:0};function qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,e,n){var r=e.pendingProps,i=Q.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),W(Q,i&1),t===null)return Uo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=gs(o,r,0,null),t=on(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qo(n),e.memoizedState=Ko,t):Yl(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Up(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=zt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=zt(l,s):(s=on(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ko,r}return s=t.child,t=s.sibling,r=zt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yl(t,e){return e=gs({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mi(t,e,n,r){return r!==null&&Dl(r),Kn(e,t.child,null,n),t=Yl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Up(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xs(Error(T(422))),mi(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=gs({mode:"visible",children:r.children},i,0,null),s=on(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Kn(e,t.child,null,o),e.child.memoizedState=qo(o),e.memoizedState=Ko,s);if(!(e.mode&1))return mi(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(T(419)),r=Xs(s,r,void 0),mi(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ce||l){if(r=ue,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gt(t,i),Je(r,t,i,-1))}return ra(),r=Xs(Error(T(421))),mi(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Xp.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Oe=At(i.nextSibling),be=e,K=!0,Ke=null,t!==null&&(Ae[$e++]=ft,Ae[$e++]=ht,Ae[$e++]=an,ft=t.id,ht=t.overflow,an=e),e=Yl(e,r.children),e.flags|=4096,e)}function mu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mo(t.return,e,n)}function Zs(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function $d(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ye(t,e,r.children,n),r=Q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mu(t,n,e);else if(t.tag===19)mu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(W(Q,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yi(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zs(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yi(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zs(e,!0,n,null,s);break;case"together":Zs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ji(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=zt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mp(t,e,n){switch(e.tag){case 3:Id(e),Vn();break;case 5:ld(e);break;case 1:xe(e.type)&&Vi(e);break;case 4:Wl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;W(Gi,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(W(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Ad(t,e,n):(W(Q,Q.current&1),t=yt(t,e,n),t!==null?t.sibling:null);W(Q,Q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $d(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),W(Q,Q.current),r)break;return null;case 22:case 23:return e.lanes=0,jd(t,e,n)}return yt(t,e,n)}var Ld,Go,Dd,zd;Ld=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Go=function(){};Dd=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rn(ot.current);var s=null;switch(n){case"input":i=vo(t,i),r=vo(t,r),s=[];break;case"select":i=Y({},i,{value:void 0}),r=Y({},r,{value:void 0}),s=[];break;case"textarea":i=wo(t,i),r=wo(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wi)}Eo(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(br.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=i?.[c],r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(br.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&H("scroll",t),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};zd=function(t,e,n,r){n!==r&&(e.flags|=4)};function cr(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Fp(t,e,n){var r=e.pendingProps;switch(Ll(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return xe(e.type)&&Hi(),pe(e),null;case 3:return r=e.stateNode,qn(),V(Te),V(ve),Vl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ke!==null&&(nl(Ke),Ke=null))),Go(t,e),pe(e),null;case 5:Hl(e);var i=rn(Br.current);if(n=e.type,t!==null&&e.stateNode!=null)Dd(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return pe(e),null}if(t=rn(ot.current),hi(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[it]=e,r[Mr]=s,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(i=0;i<vr.length;i++)H(vr[i],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":Ca(r,s),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},H("invalid",r);break;case"textarea":xa(r,s),H("invalid",r)}Eo(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&fi(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&fi(r.textContent,l,t),i=["children",""+l]):br.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":ii(r),Ta(r,s,!0);break;case"textarea":ii(r),Pa(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wi)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[it]=e,t[Mr]=r,Ld(t,e,!1,!1),e.stateNode=t;e:{switch(o=ko(n,r),n){case"dialog":H("cancel",t),H("close",t),i=r;break;case"iframe":case"object":case"embed":H("load",t),i=r;break;case"video":case"audio":for(i=0;i<vr.length;i++)H(vr[i],t);i=r;break;case"source":H("error",t),i=r;break;case"img":case"image":case"link":H("error",t),H("load",t),i=r;break;case"details":H("toggle",t),i=r;break;case"input":Ca(t,r),i=vo(t,r),H("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Y({},r,{value:void 0}),H("invalid",t);break;case"textarea":xa(t,r),i=wo(t,r),H("invalid",t);break;default:i=r}Eo(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?mc(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&hc(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&jr(t,a):typeof a=="number"&&jr(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(br.hasOwnProperty(s)?a!=null&&s==="onScroll"&&H("scroll",t):a!=null&&El(t,s,a,o))}switch(n){case"input":ii(t),Ta(t,r,!1);break;case"textarea":ii(t),Pa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Dn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Dn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)zd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=rn(Br.current),rn(ot.current),hi(e)){if(r=e.stateNode,n=e.memoizedProps,r[it]=e,(s=r.nodeValue!==n)&&(t=be,t!==null))switch(t.tag){case 3:fi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fi(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[it]=e,e.stateNode=r}return pe(e),null;case 13:if(V(Q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&Oe!==null&&e.mode&1&&!(e.flags&128))nd(),Vn(),e.flags|=98560,s=!1;else if(s=hi(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(T(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(T(317));s[it]=e}else Vn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),s=!1}else Ke!==null&&(nl(Ke),Ke=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?oe===0&&(oe=3):ra())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return qn(),Go(t,e),t===null&&zr(e.stateNode.containerInfo),pe(e),null;case 10:return Ml(e.type._context),pe(e),null;case 17:return xe(e.type)&&Hi(),pe(e),null;case 19:if(V(Q),s=e.memoizedState,s===null)return pe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)cr(s,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yi(t),o!==null){for(e.flags|=128,cr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return W(Q,Q.current&1|2),e.child}t=t.sibling}s.tail!==null&&ee()>Qn&&(e.flags|=128,r=!0,cr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!K)return pe(e),null}else 2*ee()-s.renderingStartTime>Qn&&n!==1073741824&&(e.flags|=128,r=!0,cr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ee(),e.sibling=null,n=Q.current,W(Q,r?n&1|2:n&1),e):(pe(e),null);case 22:case 23:return na(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ne&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Bp(t,e){switch(Ll(e),e.tag){case 1:return xe(e.type)&&Hi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qn(),V(Te),V(ve),Vl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hl(e),null;case 13:if(V(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Vn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(Q),null;case 4:return qn(),null;case 10:return Ml(e.type._context),null;case 22:case 23:return na(),null;case 24:return null;default:return null}}var vi=!1,me=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,O=null;function $n(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(t,e,r)}else n.current=null}function Qo(t,e,n){try{n()}catch(r){X(t,e,r)}}var vu=!1;function Hp(t,e){if(Ro=Mi,t=Wc(),Al(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,f=0,d=t,m=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)m=d,d=y;for(;;){if(d===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++f===r&&(a=o),(y=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Io={focusedElem:t,selectionRange:n},Mi=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var k=_.memoizedProps,x=_.memoizedState,v=e.stateNode,p=v.getSnapshotBeforeUpdate(e.elementType===e.type?k:We(e.type,k),x);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(g){X(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return _=vu,vu=!1,_}function Cr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qo(e,n,s)}i=i.next}while(i!==r)}}function ms(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ud(t){var e=t.alternate;e!==null&&(t.alternate=null,Ud(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[it],delete e[Mr],delete e[Lo],delete e[xp],delete e[Pp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Md(t){return t.tag===5||t.tag===3||t.tag===4}function gu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Md(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wi));else if(r!==4&&(t=t.child,t!==null))for(Yo(t,e,n),t=t.sibling;t!==null;)Yo(t,e,n),t=t.sibling}function Xo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xo(t,e,n),t=t.sibling;t!==null;)Xo(t,e,n),t=t.sibling}var ce=null,He=!1;function Et(t,e,n){for(n=n.child;n!==null;)Fd(t,e,n),n=n.sibling}function Fd(t,e,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(ls,n)}catch{}switch(n.tag){case 5:me||$n(n,e);case 6:var r=ce,i=He;ce=null,Et(t,e,n),ce=r,He=i,ce!==null&&(He?(t=ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&(He?(t=ce,n=n.stateNode,t.nodeType===8?Ks(t.parentNode,n):t.nodeType===1&&Ks(t,n),$r(t)):Ks(ce,n.stateNode));break;case 4:r=ce,i=He,ce=n.stateNode.containerInfo,He=!0,Et(t,e,n),ce=r,He=i;break;case 0:case 11:case 14:case 15:if(!me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qo(n,e,o),i=i.next}while(i!==r)}Et(t,e,n);break;case 1:if(!me&&($n(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){X(n,e,l)}Et(t,e,n);break;case 21:Et(t,e,n);break;case 22:n.mode&1?(me=(r=me)||n.memoizedState!==null,Et(t,e,n),me=r):Et(t,e,n);break;default:Et(t,e,n)}}function yu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Wp),e.forEach(function(r){var i=Zp.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ce=l.stateNode,He=!1;break e;case 3:ce=l.stateNode.containerInfo,He=!0;break e;case 4:ce=l.stateNode.containerInfo,He=!0;break e}l=l.return}if(ce===null)throw Error(T(160));Fd(s,o,i),ce=null,He=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){X(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bd(e,t),e=e.sibling}function Bd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fe(e,t),tt(t),r&4){try{Cr(3,t,t.return),ms(3,t)}catch(k){X(t,t.return,k)}try{Cr(5,t,t.return)}catch(k){X(t,t.return,k)}}break;case 1:Fe(e,t),tt(t),r&512&&n!==null&&$n(n,n.return);break;case 5:if(Fe(e,t),tt(t),r&512&&n!==null&&$n(n,n.return),t.flags&32){var i=t.stateNode;try{jr(i,"")}catch(k){X(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&cc(i,s),ko(l,o);var c=ko(l,s);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?mc(i,d):f==="dangerouslySetInnerHTML"?hc(i,d):f==="children"?jr(i,d):El(i,f,d,c)}switch(l){case"input":go(i,s);break;case"textarea":dc(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Dn(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Dn(i,!!s.multiple,s.defaultValue,!0):Dn(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mr]=s}catch(k){X(t,t.return,k)}}break;case 6:if(Fe(e,t),tt(t),r&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){X(t,t.return,k)}}break;case 3:if(Fe(e,t),tt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(e.containerInfo)}catch(k){X(t,t.return,k)}break;case 4:Fe(e,t),tt(t);break;case 13:Fe(e,t),tt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ea=ee())),r&4&&yu(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(me=(c=me)||f,Fe(e,t),me=c):Fe(e,t),tt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(O=t,f=t.child;f!==null;){for(d=O=f;O!==null;){switch(m=O,y=m.child,m.tag){case 0:case 11:case 14:case 15:Cr(4,m,m.return);break;case 1:$n(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(k){X(r,n,k)}}break;case 5:$n(m,m.return);break;case 22:if(m.memoizedState!==null){_u(d);continue}}y!==null?(y.return=m,O=y):_u(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=pc("display",o))}catch(k){X(t,t.return,k)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(k){X(t,t.return,k)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fe(e,t),tt(t),r&4&&yu(t);break;case 21:break;default:Fe(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Md(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jr(i,""),r.flags&=-33);var s=gu(t);Xo(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=gu(t);Yo(t,l,o);break;default:throw Error(T(161))}}catch(a){X(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vp(t,e,n){O=t,Wd(t)}function Wd(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vi;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||me;l=vi;var c=me;if(vi=o,(me=a)&&!c)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Eu(i):a!==null?(a.return=o,O=a):Eu(i);for(;s!==null;)O=s,Wd(s),s=s.sibling;O=i,vi=l,me=c}wu(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):wu(t)}}function wu(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||ms(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!me)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:We(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ru(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ru(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&$r(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}me||e.flags&512&&Jo(e)}catch(m){X(e,e.return,m)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function _u(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Eu(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ms(4,e)}catch(a){X(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){X(e,i,a)}}var s=e.return;try{Jo(e)}catch(a){X(e,s,a)}break;case 5:var o=e.return;try{Jo(e)}catch(a){X(e,o,a)}}}catch(a){X(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Kp=Math.ceil,es=wt.ReactCurrentDispatcher,Xl=wt.ReactCurrentOwner,De=wt.ReactCurrentBatchConfig,U=0,ue=null,te=null,de=0,Ne=0,Ln=Wt(0),oe=0,Kr=null,cn=0,vs=0,Zl=0,Tr=null,ke=null,ea=0,Qn=1/0,ut=null,ts=!1,Zo=null,Lt=null,gi=!1,bt=null,ns=0,xr=0,el=null,Ri=-1,Ii=0;function we(){return U&6?ee():Ri!==-1?Ri:Ri=ee()}function Dt(t){return t.mode&1?U&2&&de!==0?de&-de:Op.transition!==null?(Ii===0&&(Ii=Pc()),Ii):(t=M,t!==0||(t=window.event,t=t===void 0?16:Ac(t.type)),t):1}function Je(t,e,n,r){if(50<xr)throw xr=0,el=null,Error(T(185));Qr(t,n,r),(!(U&2)||t!==ue)&&(t===ue&&(!(U&2)&&(vs|=n),oe===4&&Pt(t,de)),Pe(t,r),n===1&&U===0&&!(e.mode&1)&&(Qn=ee()+500,fs&&Ht()))}function Pe(t,e){var n=t.callbackNode;Oh(t,e);var r=Ui(t,t===ue?de:0);if(r===0)n!==null&&ba(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ba(n),e===1)t.tag===0?Np(ku.bind(null,t)):Zc(ku.bind(null,t)),Cp(function(){!(U&6)&&Ht()}),n=null;else{switch(Nc(r)){case 1:n=xl;break;case 4:n=Tc;break;case 16:n=zi;break;case 536870912:n=xc;break;default:n=zi}n=Yd(n,Hd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hd(t,e){if(Ri=-1,Ii=0,U&6)throw Error(T(327));var n=t.callbackNode;if(Bn()&&t.callbackNode!==n)return null;var r=Ui(t,t===ue?de:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rs(t,r);else{e=r;var i=U;U|=2;var s=Kd();(ue!==t||de!==e)&&(ut=null,Qn=ee()+500,sn(t,e));do try{Qp();break}catch(l){Vd(t,l)}while(!0);Ul(),es.current=s,U=i,te!==null?e=0:(ue=null,de=0,e=oe)}if(e!==0){if(e===2&&(i=Po(t),i!==0&&(r=i,e=tl(t,i))),e===1)throw n=Kr,sn(t,0),Pt(t,r),Pe(t,ee()),n;if(e===6)Pt(t,r);else{if(i=t.current.alternate,!(r&30)&&!qp(i)&&(e=rs(t,r),e===2&&(s=Po(t),s!==0&&(r=s,e=tl(t,s))),e===1))throw n=Kr,sn(t,0),Pt(t,r),Pe(t,ee()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:Xt(t,ke,ut);break;case 3:if(Pt(t,r),(r&130023424)===r&&(e=ea+500-ee(),10<e)){if(Ui(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){we(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$o(Xt.bind(null,t,ke,ut),e);break}Xt(t,ke,ut);break;case 4:if(Pt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qe(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kp(r/1960))-r,10<r){t.timeoutHandle=$o(Xt.bind(null,t,ke,ut),r);break}Xt(t,ke,ut);break;case 5:Xt(t,ke,ut);break;default:throw Error(T(329))}}}return Pe(t,ee()),t.callbackNode===n?Hd.bind(null,t):null}function tl(t,e){var n=Tr;return t.current.memoizedState.isDehydrated&&(sn(t,e).flags|=256),t=rs(t,e),t!==2&&(e=ke,ke=n,e!==null&&nl(e)),t}function nl(t){ke===null?ke=t:ke.push.apply(ke,t)}function qp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ye(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~Zl,e&=~vs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qe(e),r=1<<n;t[n]=-1,e&=~r}}function ku(t){if(U&6)throw Error(T(327));Bn();var e=Ui(t,0);if(!(e&1))return Pe(t,ee()),null;var n=rs(t,e);if(t.tag!==0&&n===2){var r=Po(t);r!==0&&(e=r,n=tl(t,r))}if(n===1)throw n=Kr,sn(t,0),Pt(t,e),Pe(t,ee()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xt(t,ke,ut),Pe(t,ee()),null}function ta(t,e){var n=U;U|=1;try{return t(e)}finally{U=n,U===0&&(Qn=ee()+500,fs&&Ht())}}function dn(t){bt!==null&&bt.tag===0&&!(U&6)&&Bn();var e=U;U|=1;var n=De.transition,r=M;try{if(De.transition=null,M=1,t)return t()}finally{M=r,De.transition=n,U=e,!(U&6)&&Ht()}}function na(){Ne=Ln.current,V(Ln)}function sn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sp(n)),te!==null)for(n=te.return;n!==null;){var r=n;switch(Ll(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hi();break;case 3:qn(),V(Te),V(ve),Vl();break;case 5:Hl(r);break;case 4:qn();break;case 13:V(Q);break;case 19:V(Q);break;case 10:Ml(r.type._context);break;case 22:case 23:na()}n=n.return}if(ue=t,te=t=zt(t.current,null),de=Ne=e,oe=0,Kr=null,Zl=vs=cn=0,ke=Tr=null,nn!==null){for(e=0;e<nn.length;e++)if(n=nn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}nn=null}return t}function Vd(t,e){do{var n=te;try{if(Ul(),Oi.current=Zi,Xi){for(var r=J.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xi=!1}if(un=0,ae=se=J=null,Sr=!1,Wr=0,Xl.current=null,n===null||n.return===null){oe=1,Kr=e,te=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=de,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=uu(o);if(y!==null){y.flags&=-257,cu(y,o,l,s,e),y.mode&1&&au(s,c,e),e=y,a=c;var _=e.updateQueue;if(_===null){var k=new Set;k.add(a),e.updateQueue=k}else _.add(a);break e}else{if(!(e&1)){au(s,c,e),ra();break e}a=Error(T(426))}}else if(K&&l.mode&1){var x=uu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),cu(x,o,l,s,e),Dl(Gn(a,l));break e}}s=a=Gn(a,l),oe!==4&&(oe=2),Tr===null?Tr=[s]:Tr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Nd(s,a,e);nu(s,v);break e;case 1:l=a;var p=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Lt===null||!Lt.has(h)))){s.flags|=65536,e&=-e,s.lanes|=e;var g=Od(s,l,e);nu(s,g);break e}}s=s.return}while(s!==null)}Gd(n)}catch(C){e=C,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function Kd(){var t=es.current;return es.current=Zi,t===null?Zi:t}function ra(){(oe===0||oe===3||oe===2)&&(oe=4),ue===null||!(cn&268435455)&&!(vs&268435455)||Pt(ue,de)}function rs(t,e){var n=U;U|=2;var r=Kd();(ue!==t||de!==e)&&(ut=null,sn(t,e));do try{Gp();break}catch(i){Vd(t,i)}while(!0);if(Ul(),U=n,es.current=r,te!==null)throw Error(T(261));return ue=null,de=0,oe}function Gp(){for(;te!==null;)qd(te)}function Qp(){for(;te!==null&&!_h();)qd(te)}function qd(t){var e=Jd(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?Gd(t):te=e,Xl.current=null}function Gd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Bp(n,e),n!==null){n.flags&=32767,te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,te=null;return}}else if(n=Fp(n,e,Ne),n!==null){te=n;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);oe===0&&(oe=5)}function Xt(t,e,n){var r=M,i=De.transition;try{De.transition=null,M=1,Jp(t,e,n,r)}finally{De.transition=i,M=r}return null}function Jp(t,e,n,r){do Bn();while(bt!==null);if(U&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bh(t,s),t===ue&&(te=ue=null,de=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gi||(gi=!0,Yd(zi,function(){return Bn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=De.transition,De.transition=null;var o=M;M=1;var l=U;U|=4,Xl.current=null,Hp(t,n),Bd(n,t),vp(Io),Mi=!!Ro,Io=Ro=null,t.current=n,Vp(n),Eh(),U=l,M=o,De.transition=s}else t.current=n;if(gi&&(gi=!1,bt=t,ns=i),s=t.pendingLanes,s===0&&(Lt=null),Ch(n.stateNode),Pe(t,ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ts)throw ts=!1,t=Zo,Zo=null,t;return ns&1&&t.tag!==0&&Bn(),s=t.pendingLanes,s&1?t===el?xr++:(xr=0,el=t):xr=0,Ht(),null}function Bn(){if(bt!==null){var t=Nc(ns),e=De.transition,n=M;try{if(De.transition=null,M=16>t?16:t,bt===null)var r=!1;else{if(t=bt,bt=null,ns=0,U&6)throw Error(T(331));var i=U;for(U|=4,O=t.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(O=c;O!==null;){var f=O;switch(f.tag){case 0:case 11:case 15:Cr(8,f,s)}var d=f.child;if(d!==null)d.return=f,O=d;else for(;O!==null;){f=O;var m=f.sibling,y=f.return;if(Ud(f),f===c){O=null;break}if(m!==null){m.return=y,O=m;break}O=y}}}var _=s.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var x=k.sibling;k.sibling=null,k=x}while(k!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cr(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,O=v;break e}O=s.return}}var p=t.current;for(O=p;O!==null;){o=O;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,O=h;else e:for(o=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ms(9,l)}}catch(C){X(l,l.return,C)}if(l===o){O=null;break e}var g=l.sibling;if(g!==null){g.return=l.return,O=g;break e}O=l.return}}if(U=i,Ht(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(ls,t)}catch{}r=!0}return r}finally{M=n,De.transition=e}}return!1}function Su(t,e,n){e=Gn(n,e),e=Nd(t,e,1),t=$t(t,e,1),e=we(),t!==null&&(Qr(t,1,e),Pe(t,e))}function X(t,e,n){if(t.tag===3)Su(t,t,n);else for(;e!==null;){if(e.tag===3){Su(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lt===null||!Lt.has(r))){t=Gn(n,t),t=Od(e,t,1),e=$t(e,t,1),t=we(),e!==null&&(Qr(e,1,t),Pe(e,t));break}}e=e.return}}function Yp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=we(),t.pingedLanes|=t.suspendedLanes&n,ue===t&&(de&n)===n&&(oe===4||oe===3&&(de&130023424)===de&&500>ee()-ea?sn(t,0):Zl|=n),Pe(t,e)}function Qd(t,e){e===0&&(t.mode&1?(e=li,li<<=1,!(li&130023424)&&(li=4194304)):e=1);var n=we();t=gt(t,e),t!==null&&(Qr(t,e,n),Pe(t,n))}function Xp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qd(t,n)}function Zp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),Qd(t,n)}var Jd;Jd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Ce=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ce=!1,Mp(t,e,n);Ce=!!(t.flags&131072)}else Ce=!1,K&&e.flags&1048576&&ed(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ji(t,e),t=e.pendingProps;var i=Hn(e,ve.current);Fn(e,n),i=ql(null,e,r,t,i,n);var s=Gl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(r)?(s=!0,Vi(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bl(e),i.updater=ps,e.stateNode=i,i._reactInternals=e,Bo(e,r,t,n),e=Vo(null,e,r,!0,s,n)):(e.tag=0,K&&s&&$l(e),ye(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ji(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tm(r),t=We(r,t),i){case 0:e=Ho(null,e,r,t,n);break e;case 1:e=hu(null,e,r,t,n);break e;case 11:e=du(null,e,r,t,n);break e;case 14:e=fu(null,e,r,We(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:We(r,i),Ho(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:We(r,i),hu(t,e,r,i,n);case 3:e:{if(Id(e),t===null)throw Error(T(387));r=e.pendingProps,s=e.memoizedState,i=s.element,od(t,e),Ji(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gn(Error(T(423)),e),e=pu(t,e,r,n,i);break e}else if(r!==i){i=Gn(Error(T(424)),e),e=pu(t,e,r,n,i);break e}else for(Oe=At(e.stateNode.containerInfo.firstChild),be=e,K=!0,Ke=null,n=id(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===i){e=yt(t,e,n);break e}ye(t,e,r,n)}e=e.child}return e;case 5:return ld(e),t===null&&Uo(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ao(r,i)?o=null:s!==null&&Ao(r,s)&&(e.flags|=32),Rd(t,e),ye(t,e,o,n),e.child;case 6:return t===null&&Uo(e),null;case 13:return Ad(t,e,n);case 4:return Wl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Kn(e,null,r,n):ye(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:We(r,i),du(t,e,r,i,n);case 7:return ye(t,e,e.pendingProps,n),e.child;case 8:return ye(t,e,e.pendingProps.children,n),e.child;case 12:return ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,W(Gi,r._currentValue),r._currentValue=o,s!==null)if(Ye(s.value,o)){if(s.children===i.children&&!Te.current){e=yt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=pt(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Mo(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mo(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ye(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fn(e,n),i=Ue(i),r=r(i),e.flags|=1,ye(t,e,r,n),e.child;case 14:return r=e.type,i=We(r,e.pendingProps),i=We(r.type,i),fu(t,e,r,i,n);case 15:return bd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:We(r,i),ji(t,e),e.tag=1,xe(r)?(t=!0,Vi(e)):t=!1,Fn(e,n),Pd(e,r,i),Bo(e,r,i,n),Vo(null,e,r,!0,t,n);case 19:return $d(t,e,n);case 22:return jd(t,e,n)}throw Error(T(156,e.tag))};function Yd(t,e){return Cc(t,e)}function em(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(t,e,n,r){return new em(t,e,n,r)}function ia(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tm(t){if(typeof t=="function")return ia(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sl)return 11;if(t===Cl)return 14}return 2}function zt(t,e){var n=t.alternate;return n===null?(n=Le(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ai(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ia(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xn:return on(n.children,i,s,e);case kl:o=8,i|=8;break;case fo:return t=Le(12,n,e,i|2),t.elementType=fo,t.lanes=s,t;case ho:return t=Le(13,n,e,i),t.elementType=ho,t.lanes=s,t;case po:return t=Le(19,n,e,i),t.elementType=po,t.lanes=s,t;case lc:return gs(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sc:o=10;break e;case oc:o=9;break e;case Sl:o=11;break e;case Cl:o=14;break e;case Ct:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=Le(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function on(t,e,n,r){return t=Le(7,t,r,e),t.lanes=n,t}function gs(t,e,n,r){return t=Le(22,t,r,e),t.elementType=lc,t.lanes=n,t.stateNode={isHidden:!1},t}function eo(t,e,n){return t=Le(6,t,null,e),t.lanes=n,t}function to(t,e,n){return e=Le(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nm(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$s(0),this.expirationTimes=$s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sa(t,e,n,r,i,s,o,l,a){return t=new nm(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Le(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(s),t}function rm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xd(t){if(!t)return Ft;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(xe(n))return Xc(t,n,e)}return e}function Zd(t,e,n,r,i,s,o,l,a){return t=sa(n,r,!0,t,i,s,o,l,a),t.context=Xd(null),n=t.current,r=we(),i=Dt(n),s=pt(r,i),s.callback=e??null,$t(n,s,i),t.current.lanes=i,Qr(t,i,r),Pe(t,r),t}function ys(t,e,n,r){var i=e.current,s=we(),o=Dt(i);return n=Xd(n),e.context===null?e.context=n:e.pendingContext=n,e=pt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$t(i,e,o),t!==null&&(Je(t,i,o,s),Ni(t,i,o)),o}function is(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function oa(t,e){Cu(t,e),(t=t.alternate)&&Cu(t,e)}function im(){return null}var ef=typeof reportError=="function"?reportError:function(t){console.error(t)};function la(t){this._internalRoot=t}ws.prototype.render=la.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));ys(t,e,null,null)};ws.prototype.unmount=la.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dn(function(){ys(null,t,null,null)}),e[vt]=null}};function ws(t){this._internalRoot=t}ws.prototype.unstable_scheduleHydration=function(t){if(t){var e=jc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xt.length&&e!==0&&e<xt[n].priority;n++);xt.splice(n,0,t),n===0&&Ic(t)}};function aa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function sm(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=is(o);s.call(c)}}var o=Zd(e,r,t,0,null,!1,!1,"",Tu);return t._reactRootContainer=o,t[vt]=o.current,zr(t.nodeType===8?t.parentNode:t),dn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=is(a);l.call(c)}}var a=sa(t,0,!1,null,null,!1,!1,"",Tu);return t._reactRootContainer=a,t[vt]=a.current,zr(t.nodeType===8?t.parentNode:t),dn(function(){ys(e,a,n,r)}),a}function Es(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=is(o);l.call(a)}}ys(e,o,t,i)}else o=sm(n,e,t,i,r);return is(o)}Oc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mr(e.pendingLanes);n!==0&&(Pl(e,n|1),Pe(e,ee()),!(U&6)&&(Qn=ee()+500,Ht()))}break;case 13:dn(function(){var r=gt(t,1);if(r!==null){var i=we();Je(r,t,1,i)}}),oa(t,1)}};Nl=function(t){if(t.tag===13){var e=gt(t,134217728);if(e!==null){var n=we();Je(e,t,134217728,n)}oa(t,134217728)}};bc=function(t){if(t.tag===13){var e=Dt(t),n=gt(t,e);if(n!==null){var r=we();Je(n,t,e,r)}oa(t,e)}};jc=function(){return M};Rc=function(t,e){var n=M;try{return M=t,e()}finally{M=n}};Co=function(t,e,n){switch(e){case"input":if(go(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ds(r);if(!i)throw Error(T(90));uc(r),go(r,i)}}}break;case"textarea":dc(t,n);break;case"select":e=n.value,e!=null&&Dn(t,!!n.multiple,e,!1)}};yc=ta;wc=dn;var om={usingClientEntryPoint:!1,Events:[Yr,bn,ds,vc,gc,ta]},dr={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lm={bundleType:dr.bundleType,version:dr.version,rendererPackageName:dr.rendererPackageName,rendererConfig:dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kc(t),t===null?null:t.stateNode},findFiberByHostInstance:dr.findFiberByHostInstance||im,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yi.isDisabled&&yi.supportsFiber)try{ls=yi.inject(lm),st=yi}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=om;Re.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aa(e))throw Error(T(200));return rm(t,e,null,n)};Re.createRoot=function(t,e){if(!aa(t))throw Error(T(299));var n=!1,r="",i=ef;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sa(t,1,!1,null,null,n,!1,r,i),t[vt]=e.current,zr(t.nodeType===8?t.parentNode:t),new la(e)};Re.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=kc(e),t=t===null?null:t.stateNode,t};Re.flushSync=function(t){return dn(t)};Re.hydrate=function(t,e,n){if(!_s(e))throw Error(T(200));return Es(null,t,e,!0,n)};Re.hydrateRoot=function(t,e,n){if(!aa(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ef;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Zd(e,null,t,1,n??null,i,!1,s,o),t[vt]=e.current,zr(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ws(e)};Re.render=function(t,e,n){if(!_s(e))throw Error(T(200));return Es(null,t,e,!1,n)};Re.unmountComponentAtNode=function(t){if(!_s(t))throw Error(T(40));return t._reactRootContainer?(dn(function(){Es(null,null,t,!1,function(){t._reactRootContainer=null,t[vt]=null})}),!0):!1};Re.unstable_batchedUpdates=ta;Re.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_s(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Es(t,e,n,!1,r)};Re.version="18.3.1-next-f1338f8080-20240426";function tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tf)}catch(t){console.error(t)}}tf(),tc.exports=Re;var am=tc.exports,nf,xu=am;nf=xu.createRoot,xu.hydrateRoot;const um="modulepreload",cm=function(t){return"/"+t},Pu={},Zr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(a=>{if(a=cm(a),a in Pu)return;Pu[a]=!0;const c=a.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":um,c||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((m,y)=>{d.addEventListener("load",m),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},dm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ua extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class fm extends ua{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nu extends ua{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ou extends ua{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var rl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(rl||(rl={}));var hm=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{c(r.next(f))}catch(d){o(d)}}function a(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class pm{constructor(e,{headers:n={},customFetch:r,region:i=rl.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=dm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return hm(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const c=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(k=>{throw new fm(k)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new Nu(d);if(!d.ok)throw new Ou(d);let y=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield d.json():y==="application/octet-stream"?_=yield d.blob():y==="text/event-stream"?_=d:y==="multipart/form-data"?_=yield d.formData():_=yield d.text(),{data:_,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof Ou||i instanceof Nu?i.context:void 0}}})}}var Se={},ca={},ks={},ei={},Ss={},Cs={},mm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jn=mm();const vm=Jn.fetch,rf=Jn.fetch.bind(Jn),sf=Jn.Headers,gm=Jn.Request,ym=Jn.Response,er=Object.freeze(Object.defineProperty({__proto__:null,Headers:sf,Request:gm,Response:ym,default:rf,fetch:vm},Symbol.toStringTag,{value:"Module"})),wm=Bf(er);var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});let _m=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ts.default=_m;var of=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});const Em=of(wm),km=of(Ts);let Sm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Em.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let c=null,f=null,d=null,m=s.status,y=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=v:f=JSON.parse(v))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const k=await s.text();try{c=JSON.parse(k),Array.isArray(c)&&s.status===404&&(f=[],c=null,m=200,y="OK")}catch{s.status===404&&k===""?(m=204,y="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((a=c?.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&this.shouldThrowOnError)throw new km.default(c)}return{error:c,data:f,count:d,status:m,statusText:y}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,a;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(l=s?.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s?.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Cs.default=Sm;var Cm=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ss,"__esModule",{value:!0});const Tm=Cm(Cs);let xm=class extends Tm.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ss.default=xm;var Pm=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});const Nm=Pm(Ss);let Om=class extends Nm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ei.default=Om;var bm=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ks,"__esModule",{value:!0});const fr=bm(ei);let jm=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new fr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new fr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(a.length>0){const c=[...new Set(a)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new fr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new fr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ks.default=jm;var xs={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.version=void 0;Ps.version="0.0.0-automated";Object.defineProperty(xs,"__esModule",{value:!0});xs.DEFAULT_HEADERS=void 0;const Rm=Ps;xs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Rm.version}`};var lf=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ca,"__esModule",{value:!0});const Im=lf(ks),Am=lf(ei),$m=xs;let Lm=class af{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},$m.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Im.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new af(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",a=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Am.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ca.default=Lm;var tr=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const uf=tr(ca);Se.PostgrestClient=uf.default;const cf=tr(ks);Se.PostgrestQueryBuilder=cf.default;const df=tr(ei);Se.PostgrestFilterBuilder=df.default;const ff=tr(Ss);Se.PostgrestTransformBuilder=ff.default;const hf=tr(Cs);Se.PostgrestBuilder=hf.default;const pf=tr(Ts);Se.PostgrestError=pf.default;var Dm=Se.default={PostgrestClient:uf.default,PostgrestQueryBuilder:cf.default,PostgrestFilterBuilder:df.default,PostgrestTransformBuilder:ff.default,PostgrestBuilder:hf.default,PostgrestError:pf.default};const{PostgrestClient:zm,PostgrestQueryBuilder:Yg,PostgrestFilterBuilder:Xg,PostgrestTransformBuilder:Zg,PostgrestBuilder:ey,PostgrestError:ty}=Dm;class Um{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Mm="2.15.1",Fm=`realtime-js/${Mm}`,Bm="1.0.0",il=1e4,Wm=1e3,Hm=100;var Pr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pr||(Pr={}));var ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ne||(ne={}));var Ve;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ve||(Ve={}));var sl;(function(t){t.websocket="websocket"})(sl||(sl={}));var en;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(en||(en={}));class Vm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const a=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class mf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(B||(B={}));const bu=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Km(o,t,e,i),s),{})},Km=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i?.type,o=n[t];return s&&!r.includes(s)?vf(s,o):ol(o)},vf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Jm(e,n)}switch(t){case B.bool:return qm(e);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Gm(e);case B.json:case B.jsonb:return Qm(e);case B.timestamp:return Ym(e);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return ol(e);default:return ol(e)}},ol=t=>t,qm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Gm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Qm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>vf(e,l))}return t},Ym=t=>typeof t=="string"?t.replace(" ","T"):t,gf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class no{constructor(e,n,r={},i=il){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ju;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ju||(ju={}));class Nr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nr.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=Nr.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Nr.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(s,(c,f)=>{o[c]||(a[c]=f)}),this.map(o,(c,f)=>{const d=s[c];if(d){const m=f.map(x=>x.presence_ref),y=d.map(x=>x.presence_ref),_=f.filter(x=>y.indexOf(x.presence_ref)<0),k=d.filter(x=>m.indexOf(x.presence_ref)<0);_.length>0&&(l[c]=_),k.length>0&&(a[c]=k)}else l[c]=f}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var c;const f=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),f.length>0){const d=e[l].map(y=>y.presence_ref),m=f.filter(y=>d.indexOf(y.presence_ref)<0);e[l].unshift(...m)}r(l,f,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const f=a.map(d=>d.presence_ref);c=c.filter(d=>f.indexOf(d.presence_ref)<0),e[l]=c,i(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ru;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ru||(Ru={}));var Or;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Or||(Or={}));var ct;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ct||(ct={}));class da{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new no(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new mf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Nr(this),this.broadcastEndpointURL=gf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,a=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Or.PRESENCE]&&this.bindings[Or.PRESENCE].length>0,f={},d={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:a,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e?.(ct.CHANNEL_ERROR,m)),this._onClose(()=>e?.(ct.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e?.(ct.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(y=_?.length)!==null&&y!==void 0?y:0,x=[];for(let v=0;v<k;v++){const p=_[v],{filter:{event:h,schema:g,table:C,filter:S}}=p,w=m&&m[v];if(w&&w.event===h&&w.schema===g&&w.table===C&&w.filter===S)x.push(Object.assign(Object.assign({},p),{id:w.id}));else{this.unsubscribe(),this.state=ne.errored,e?.(ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(ct.SUBSCRIBED);return}}).receive("error",m=>{this.state=ne.errored,e?.(ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ne.joined&&e===Or.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new no(this,Ve.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new no(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:f}=Ve;if(r&&[l,a,c,f].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var _,k,x;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((x=(k=y.filter)===null||k===void 0?void 0:k.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var _,k,x,v,p,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const g=y.id,C=(_=y.filter)===null||_===void 0?void 0:_.event;return g&&((k=n.ids)===null||k===void 0?void 0:k.includes(g))&&(C==="*"||C?.toLocaleLowerCase()===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const g=(p=(v=y?.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return g==="*"||g===((h=n?.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:k,table:x,commit_timestamp:v,type:p,errors:h}=_;m=Object.assign(Object.assign({},{schema:k,table:x,commit_timestamp:v,eventType:p,new:{},old:{},errors:h}),this._getPayloadRecords(_))}y.callback(m,r)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&da.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ve.close,{},e)}_onError(e){this._on(Ve.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bu(e.columns,e.old_record)),n}}const Iu=()=>{},wi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xm=[1e3,2e3,5e3,1e4],Zm=1e4,ev=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tv{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=il,this.transport=null,this.heartbeatIntervalMs=wi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iu,this.ref=0,this.reconnectTimer=null,this.logger=Iu,this.conn=null,this.sendBuffer=[],this.serializer=new Vm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Zr(async()=>{const{default:l}=await Promise.resolve().then(()=>er);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${sl.websocket}`,this.httpEndpoint=gf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Um.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return en.Connecting;case Pr.open:return en.Open;case Pr.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new da(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Wm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,l=o?`(${o})`:"",a=s.status||"";this.log("receive",`${a} ${r} ${i} ${l}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ve.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ev],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Fm};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ve.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,l,a,c;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:il,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:wi.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:f=>Xm[f-1]||Zm,this.encode=(a=e?.encode)!==null&&a!==void 0?a:(f,d)=>d(JSON.stringify(f)),this.decode=(c=e?.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class fa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nv extends fa{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ll extends fa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var rv=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{c(r.next(f))}catch(d){o(d)}}function a(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const yf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},iv=()=>rv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zr(()=>Promise.resolve().then(()=>er),void 0)).Response:Response}),al=t=>{if(Array.isArray(t))return t.map(n=>al(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=al(r)}),e},sv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var pn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{c(r.next(f))}catch(d){o(d)}}function a(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const ro=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ov=(t,e,n)=>pn(void 0,void 0,void 0,function*(){const r=yield iv();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const s=t.status||500,o=i?.statusCode||s+"";e(new nv(ro(i),s,o))}).catch(i=>{e(new ll(ro(i),i))}):e(new ll(ro(t),t))}),lv=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(sv(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function ti(t,e,n,r,i,s){return pn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,lv(e,r,i,s)).then(a=>{if(!a.ok)throw a;return r?.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>ov(a,l,r))})})}function ss(t,e,n,r){return pn(this,void 0,void 0,function*(){return ti(t,"GET",e,n,r)})}function rt(t,e,n,r,i){return pn(this,void 0,void 0,function*(){return ti(t,"POST",e,r,i,n)})}function ul(t,e,n,r,i){return pn(this,void 0,void 0,function*(){return ti(t,"PUT",e,r,i,n)})}function av(t,e,n,r){return pn(this,void 0,void 0,function*(){return ti(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function wf(t,e,n,r,i){return pn(this,void 0,void 0,function*(){return ti(t,"DELETE",e,r,i,n)})}var ge=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{c(r.next(f))}catch(d){o(d)}}function a(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const uv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Au={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cv{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=yf(i)}uploadOrUpdate(e,n,r,i){return ge(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Au),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),d=yield(e=="PUT"?ul:rt)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ge(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:Au.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const d=yield ul(this.fetch,l.toString(),a,{headers:f});return{data:{path:s,fullPath:d.Key},error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new fa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}update(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield rt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ge(this,void 0,void 0,function*(){try{const i=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}download(e,n){return ge(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ss(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(re(l))return{data:null,error:l};throw l}})}info(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ss(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:al(r),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}exists(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield av(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(re(r)&&r instanceof ll){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof n?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(n?.transform||{});a!==""&&i.push(a);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}list(e,n,r){return ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},uv),n),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}listV2(e,n){return ge(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const dv="2.11.0",fv={"X-Client-Info":`storage-js/${dv}`};var yn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{c(r.next(f))}catch(d){o(d)}}function a(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class hv{constructor(e,n={},r,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},fv),n),this.fetch=yf(r)}listBuckets(){return yn(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield ss(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return yn(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return yn(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return yn(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}}class pv extends hv{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new cv(this.url,this.headers,e,this.fetch)}}const mv="2.55.0";let gr="";typeof Deno<"u"?gr="deno":typeof document<"u"?gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gr="react-native":gr="node";const vv={"X-Client-Info":`supabase-js-${gr}/${mv}`},gv={headers:vv},yv={schema:"public"},wv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_v={};var Ev=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{c(r.next(f))}catch(d){o(d)}}function a(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const kv=t=>{let e;return t?e=t:typeof fetch>"u"?e=rf:e=fetch,(...n)=>e(...n)},Sv=()=>typeof Headers>"u"?sf:Headers,Cv=(t,e,n)=>{const r=kv(n),i=Sv();return(s,o)=>Ev(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var Tv=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{c(r.next(f))}catch(d){o(d)}}function a(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function xv(t){return t.endsWith("/")?t:t+"/"}function Pv(t,e){var n,r;const{db:i,auth:s,realtime:o,global:l}=t,{db:a,auth:c,realtime:f,global:d}=e,m={db:Object.assign(Object.assign({},a),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Tv(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const _f="2.71.1",Sn=30*1e3,cl=3,io=cl*Sn,Nv="http://localhost:9999",Ov="supabase.auth.token",bv={"X-Client-Info":`gotrue-js/${_f}`},dl="X-Supabase-Api-Version",Ef={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rv=10*60*1e3;class ha extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Iv extends ha{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Av(t){return A(t)&&t.name==="AuthApiError"}class kf extends ha{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vt extends ha{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class St extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $v(t){return A(t)&&t.name==="AuthSessionMissingError"}class _i extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ei extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ki extends Vt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lv(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class $u extends Vt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fl extends Vt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function so(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Lu extends Vt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class hl extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const os="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Du=` 	
\r=`.split(""),Dv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Du.length;e+=1)t[Du[e].charCodeAt(0)]=-2;for(let e=0;e<os.length;e+=1)t[os[e].charCodeAt(0)]=e;return t})();function zu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(os[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(os[r]),e.queuedBits-=6}}function Sf(t,e,n){const r=Dv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Uu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Mv(o,r,n)};for(let o=0;o<t.length;o+=1)Sf(t.charCodeAt(o),i,s);return e.join("")}function zv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Uv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}zv(r,e)}}function Mv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Fv(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Sf(t.charCodeAt(i),n,r);return new Uint8Array(e)}function Bv(t){const e=[];return Uv(t,n=>e.push(n)),new Uint8Array(e)}function Wv(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>zu(i,n,r)),zu(null,n,r),e.join("")}function Hv(t){return Math.round(Date.now()/1e3)+t}function Vv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Be=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},Cf=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function Kv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Tf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>er);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},qv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(t,e)=>{await t.removeItem(e)};class Ns{constructor(){this.promise=new Ns.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ns.promiseConstructor=Promise;function oo(t){const e=t.split(".");if(e.length!==3)throw new hl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!jv.test(e[r]))throw new hl("JWT not in base64url format");return{header:JSON.parse(Uu(e[0])),payload:JSON.parse(Uu(e[1])),signature:Fv(e[2]),raw:{header:e[0],payload:e[1]}}}async function Gv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Qv(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Jv(t){return("0"+t.toString(16)).substr(-2)}function Yv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Jv).join("")}async function Xv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Zv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Xv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(t,e,n=!1){const r=Yv();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Cn(t,`${e}-code-verifier`,i);const s=await Zv(r);return[s,r===s?"plain":"s256"]}const eg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tg(t){const e=t.headers.get(dl);if(!e||!e.match(eg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ng(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ig=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _n(t){if(!ig.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mu(t){return JSON.parse(JSON.stringify(t))}var sg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),og=[502,503,504];async function Fu(t){var e;if(!qv(t))throw new fl(Zt(t),0);if(og.includes(t.status))throw new fl(Zt(t),t.status);let n;try{n=await t.json()}catch(s){throw new kf(Zt(s),s)}let r;const i=tg(t);if(i&&i.getTime()>=Ef["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lu(Zt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new St}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Lu(Zt(n),t.status,n.weak_password.reasons);throw new Iv(Zt(n),t.status||500,r)}const lg=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function L(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[dl]||(s[dl]=Ef["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await ag(t,e,n+l,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(a):{data:Object.assign({},a),error:null}}async function ag(t,e,n,r,i,s){const o=lg(e,r,i,s);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new fl(Zt(a),0)}if(l.ok||await Fu(l),r?.noResolveJson)return l;try{return await l.json()}catch(a){await Fu(a)}}function at(t){var e;let n=null;fg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Hv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Bu(t){const e=at(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ug(t){return{data:t,error:null}}function cg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=sg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function dg(t){return t}function fg(t){return t.access_token&&t.refresh_token&&t.expires_in}const ao=["global","local","others"];var hg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class pg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Tf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ao[0]){if(ao.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ao.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=hg(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:cg,redirectTo:n?.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},f=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:dg});if(f.error)throw f.error;const d=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(a=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);c[`${x}Page`]=k}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(A(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){_n(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){_n(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Nt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){_n(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){_n(e.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){_n(e.userId),_n(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}function Wu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function mg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const En={debug:!!(globalThis&&Cf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vg extends xf{}async function gg(t,e,n){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(En.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}mg();const yg={url:Nv,storageKey:Ov,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hu(t,e,n){return await n()}const kn={};class qr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qr.nextInstanceID,qr.nextInstanceID+=1,this.instanceID>0&&Be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},yg),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pg({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Tf(i.fetch),this.lock=i.lock||Hu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Be()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=gg:this.lock=Hu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Cf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=kn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=kn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kn[this.storageKey]=Object.assign(Object.assign({},kn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_f}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Kv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Be()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Lv(s)){const a=(e=s.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new kf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:at}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:f,password:d,options:m}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await wn(this.storage,this.storageKey)),s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:f,password:d,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:_},xform:at})}else if("phone"in e){const{phone:f,password:d,options:m}=e;s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(r=m?.data)!==null&&r!==void 0?r:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:at})}else throw new Ei("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:l}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Bu})}else if("phone"in e){const{phone:s,password:o,options:l}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Bu})}else throw new Ei("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _i}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,s,o,l,a,c,f,d,m,y;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:x,wallet:v,statement:p,options:h}=e;let g;if(Be())if(typeof v=="object")g=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))g=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!h?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=v}const C=new URL((n=h?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in g&&g.signIn){const S=await g.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),p?{statement:p}:null));let w;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")w=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)w=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)_=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),k=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in g)||typeof g.signMessage!="function"||!("publicKey"in g)||typeof g!="object"||!g.publicKey||!("toBase58"in g.publicKey)||typeof g.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${C.host} wants you to sign in with your Solana account:`,g.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=h?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=h?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((l=h?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((a=h?.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((c=h?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((d=(f=h?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...h.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const S=await g.signMessage(new TextEncoder().encode(_),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=S}}try{const{data:x,error:v}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Wv(k)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:at});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new _i}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(A(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await Jt(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:at});if(await kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _i}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(A(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:at}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new _i}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await wn(this.storage,this.storageKey));const{error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a?.data)!==null&&n!==void 0?n:{},create_user:(r=a?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a?.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:f}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a?.data)!==null&&i!==void 0?i:{},create_user:(s=a?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a?.captchaToken},channel:(o=a?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:f}}throw new Ei("You must provide either an email or phone number.")}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:at});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a?.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await wn(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:ug})}catch(s){if(A(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new St;const{error:i}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Ei("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<io:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Jt(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=lo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,f)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,f))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nt}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Nt})})}catch(n){if(A(n))return $v(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new St;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await wn(this.storage,this.storageKey));const{data:c,error:f}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Nt});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=oo(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new St;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Be())throw new ki("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ki(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ki("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $u("No code detected.");const{data:p,error:h}=await this._exchangeCodeForSession(e.code);if(h)throw h;const g=new URL(window.location.href);return g.searchParams.delete("code"),window.history.replaceState(window.history.state,"",g.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!s||!l||!o||!c)throw new ki("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let m=f+d;a&&(m=parseInt(a));const y=m-f;y*1e3<=Sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${d}s`);const _=m-d;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,f);const{data:k,error:x}=await this._getUser(s);if(x)throw x;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:m,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Av(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Vv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await wn(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(A(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,c,f;const{data:d,error:m}=s;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Be()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Qv(async i=>(i>0&&await Gv(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:at})),(i,s)=>{const o=200*Math.pow(2,i);return s&&so(s)&&Date.now()+o-r<Sn})}catch(r){if(this._debug(n,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Be()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Jt(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Cn(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:lo()}else if(i&&!i.user&&!i.user){const o=await Jt(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await kt(this.storage,this.storageKey+"-user"),await Cn(this.storage,this.storageKey,i)):i.user=lo()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<io;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${io}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),so(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ns;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new St;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),A(s)){const o={session:null,error:s};return so(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Cn(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Mu(i);await Cn(this.storage,this.storageKey,s)}else{const i=Mu(n);await Cn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sn}ms, refresh threshold is ${cl} ticks`),i<=cl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await wn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=a?.totp)===null||i===void 0)&&i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=e?.factors||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=oo(i.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Rv>i)return r;const{data:s,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:_}=await this.getSession();if(_||!y.session)return{data:null,error:_};r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:a}}=oo(r);n?.allowExpired||ng(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const f=rg(i.alg),d=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,Bv(`${l}.${a}`)))throw new hl("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}qr.nextInstanceID=0;const wg=qr;class _g extends wg{constructor(e){super(e)}}var Eg=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{c(r.next(f))}catch(d){o(d)}}function a(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class kg{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=xv(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,f={db:yv,realtime:_v,auth:Object.assign(Object.assign({},wv),{storageKey:c}),global:gv},d=Pv(r??{},f);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Cv(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new zm(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new pv(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new pm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Eg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:l,debug:a},c,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _g({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:a,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new tv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sg=(t,e,n)=>new kg(t,e,n);function Cg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Cg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Tg="https://incvjkbdvqovxebhwyui.supabase.co",xg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImluY3Zqa2JkdnFvdnhlYmh3eXVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2NzIwOTYsImV4cCI6MjA3MTI0ODA5Nn0.cqI0nTa7ksUpGXtRSp4VmZxvL1x8uZf-XmMuiEa5iMw",Pg=Sg(Tg,xg,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Ng="lemman";let uo=null;async function Og(t){uo&&clearTimeout(uo),uo=setTimeout(async()=>{try{const{error:e}=await Pg.from("app_state").upsert({key:Ng,state:t,updated_at:new Date().toISOString()},{onConflict:"key"});e&&console.warn("[persist] saveRemoteDB error:",e.message)}catch(e){console.warn("[persist] saveRemoteDB exception:",e?.message||e)}},400)}function qe(t=new Date){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);const r=new Date(Date.UTC(e.getUTCFullYear(),0,1)),i=Math.ceil(((e-r)/864e5+1)/7);return{year:e.getUTCFullYear(),week:i}}const Ge=({year:t,week:e})=>`${t}-W${String(e).padStart(2,"0")}`,Vu=t=>{const e=/^(\d{4})-W(\d{2})$/.exec(t||"");return e?Number(e[1])*100+Number(e[2]):0};function pl(t){const e=/^(\d{4})-W(\d{2})$/.exec(t);if(!e)return t;let n=+e[1],r=+e[2];return r+=1,r>53&&(n+=1,r=1),`${n}-W${String(r).padStart(2,"0")}`}const ie=()=>Math.random().toString(36).slice(2),Ut=()=>new Date().toISOString().slice(0,10),Pf="lemman-db-v6.2";function bg(t){try{const e=localStorage.getItem(Pf);return e?JSON.parse(e):t}catch{return t}}function jg(t){try{localStorage.setItem(Pf,JSON.stringify(t))}catch{}}async function Rg(t){return await new Promise((e,n)=>{try{const r=new FileReader;r.onload=()=>e(r.result),r.onerror=()=>n(new Error("Lettura immagine fallita")),r.readAsDataURL(t)}catch(r){n(r)}})}const Nf=[{username:"mario.rossi",pwd:"lemman",role:"Dipendente",name:"Mario Rossi"},{username:"anna.verdi",pwd:"lemman",role:"Dipendente",name:"Anna Verdi"},{username:"responsabile",pwd:"lemman",role:"Responsabile",name:"Responsabile"}],Ig=(()=>{const t=Ge(qe());return{commesse:[{id:ie(),code:"C-2405-ALFA",desc:"Reattore multilayer – ALFA",active:!0,boundSite:"Officina Padova",lockSite:!0,posizioni:[{id:ie(),name:"SALDATURA"},{id:ie(),name:"MONTAGGIO"}]},{id:ie(),code:"C-2406-BETA",desc:"Scambiatore – BETA",active:!0,boundSite:"",lockSite:!1,posizioni:[{id:ie(),name:"CARPENTERIA"}]}],cantieri:[{id:ie(),name:"Officina Padova"},{id:ie(),name:"Cantiere Mestre"}],weeklyShifts:[{id:ie(),dip:"Mario Rossi",week:t,hours:"08:00–17:00",site:"Officina Padova"},{id:ie(),dip:"Mario Rossi",week:pl(t),hours:"08:00–17:00",site:"Cantiere Mestre"}],tasks:[{id:ie(),dip:"Mario Rossi",date:Ut(),title:"Verifica DPI",photo:"",done:!1},{id:ie(),dip:"Mario Rossi",date:Ut(),title:"Montaggio supporti linea A",photo:"",done:!1}],reports:[{id:ie(),date:Ut(),dip:"Mario Rossi",commessaId:"",posizioneId:"",ore:8,site:"Officina Padova",descr:"Attività iniziali",stato:"Inviato",noteResp:"",photos:[]}],notifications:[],posts:[{id:ie(),title:"Benvenuti nella nuova app LEMMAN",body:"Gestione turni/rapportini/attività.",author:"Responsabile",ts:Date.now()}]}})(),Ag=`
:root{--bg:#f6f6f7;--ink:#111;--muted:#666;--card:#fff;--line:#e5e5e5;--brand:#111}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--ink);font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial}
nav{background:var(--brand);color:#fff;display:flex;gap:10px;padding:10px 12px;position:sticky;top:0;z-index:10;overflow:auto}
nav a,nav button{color:#fff;text-decoration:none;padding:6px 10px;border-radius:8px;border:0;background:transparent;white-space:nowrap}
nav a:hover{background:rgba(255,255,255,.1)}.active{background:rgba(255,255,255,.12)}
.container{padding:14px;max-width:1200px;margin:0 auto}
.grid{display:grid;gap:14px}@media(min-width:1000px){.cols-2{grid-template-columns:1fr 1fr} .cols-3{grid-template-columns:1fr 1fr 1fr}}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;box-shadow:0 1px 0 #00000008;overflow:hidden}
.card h3{margin:0;padding:12px 14px 0;font-size:16px}.card .body{padding:10px 14px 14px}
table{width:100%;border-collapse:collapse}th,td{border-top:1px solid var(--line);padding:8px;text-align:left}
th{font-weight:600;color:var(--muted);background:#fafafa;position:sticky;top:0}
input,select,textarea{padding:8px;border:1px solid var(--line);border-radius:10px;outline:none;max-width:100%}
textarea{min-height:80px;width:100%}button{padding:8px 12px;border:0;border-radius:10px;background:#111;color:#fff;cursor:pointer}
button.ghost{background:#fff;color:#111;border:1px solid var(--line)}.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.muted{color:var(--muted);font-size:12px}.pill{padding:2px 8px;border-radius10px;border:1px solid var(--line);font-size:12px}
.pill.ok{border-color:#0a0;}
:999px;font-size:12px;border:1px solid var(--line)}
.badge{padding:2px 6px;border-radius:6px;font-size:12px}
.badge.sent{background:#fff;border:1px solid var(--line)}.badge.appr{background:#e8f5e9;color:#2e7d32}
.badge.mod{background:#fff3e0;color:#e65100}.badge.rej{background:#ffebee;color:#c62828}
ul{margin:0;padding-left:18px}.right{margin-left:auto}
small.code{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background:#f0f0f0; padding:0 6px; border-radius:6px}
img.preview{max-width:120px;max-height:120px;border:1px solid var(--line);border-radius:8px}
`;function $g(){return b.useEffect(()=>{const t=document.createElement("style");return t.innerHTML=Ag,document.head.appendChild(t),()=>{document.head.removeChild(t)}},[]),null}function Lg(){const[t,e]=b.useState(null),[n,r]=b.useState("home"),[i,s]=b.useState(()=>bg(Ig));b.useEffect(()=>{jg(i),Og(i),typeof window<"u"&&(window._setDb=s)},[i]);const o=Ge(qe()),l=pl(o),a=Ut(),c=new Date(Date.now()+24*60*60*1e3).toISOString().slice(0,10);b.useEffect(()=>{s(p=>({...p,weeklyShifts:p.weeklyShifts.filter(h=>Vu(h.week)>=Vu(o))}))},[]);const f=t?.role==="Responsabile",d=t?.name,m=b.useMemo(()=>i.tasks.filter(p=>p.dip===d&&p.date===Ut()),[i.tasks,d]),y=p=>s(h=>({...h,tasks:h.tasks.map(g=>g.id===p?{...g,done:!g.done}:g)})),_=b.useMemo(()=>{const p=i.weeklyShifts.filter(g=>g.dip===d&&g.week===o),h=i.weeklyShifts.filter(g=>g.dip===d&&g.week===pl(o));return{current:p,next:h}},[i.weeklyShifts,d,o]),k=b.useMemo(()=>i.reports.filter(h=>h.dip===d).filter(h=>{const[g,C,S]=h.date.split("-").map(Number);return Ge(qe(new Date(g,C-1,S)))===o}),[i.reports,d,o]);function x(p,h){const g=Nf.find(C=>C.username===p&&C.pwd===h);if(!g){alert("Credenziali errate");return}e(g)}function v({to:p,children:h}){return u.createElement("a",{href:"#",className:n===p?"active":"",onClick:g=>{g.preventDefault(),r(p)}},h)}return u.createElement(u.Fragment,null,u.createElement($g,null),u.createElement("nav",null,u.createElement(v,{to:"home"},"Home"),u.createElement(v,{to:"turni"},"Turni"),u.createElement(v,{to:"attivita"},"Attività"),u.createElement(v,{to:"rapportini"},"Rapportini"),u.createElement(v,{to:"bacheca"},"Bacheca"),t?.role==="Responsabile"&&u.createElement(v,{to:"admin"},"Amministrazione"),t?.role==="Responsabile"&&u.createElement(v,{to:"dashboard"},"Dashboard"),t?.role==="Responsabile"&&u.createElement(v,{to:"report"},"Report"),u.createElement("span",{className:"right"}),t&&u.createElement("button",{className:"ghost",onClick:()=>e(null)},"Esci")),t?u.createElement("div",{className:"container"},n==="home"&&u.createElement(zg,{user:t,shifts:f?i.weeklyShifts.filter(p=>{const h=p.week||Ge(qe(new Date((p.startDate||p.endDate||"").slice(0,10)||Ut())));return h===o||h===l}):i.weeklyShifts.filter(p=>p.dip===d),tasks:f?i.tasks.filter(p=>p.date===a||p.date===c):i.tasks.filter(p=>p.dip===d&&p.date===a),posts:i.posts,notifications:i.notifications.filter(p=>p.to===d).sort((p,h)=>h.ts-p.ts)}),n==="turni"&&u.createElement(Ug,{myShifts:_,curWeek:o}),n==="attivita"&&u.createElement(Mg,{tasks:m,onToggle:y}),n==="rapportini"&&u.createElement(Fg,{user:t,db:i,setDb:s,myReports:k}),n==="bacheca"&&u.createElement(Bg,{posts:i.posts,isResp:f,addPost:(p,h)=>s(g=>({...g,posts:[{id:ie(),title:p,body:h,author:t.name,ts:Date.now()},...g.posts]}))}),n==="admin"&&f&&u.createElement(Wg,{db:i,setDb:s}),n==="dashboard"&&f&&u.createElement(Hg,{db:i,curWeek:o}),n==="report"&&f&&u.createElement(Vg,{db:i,curWeek:o})):u.createElement(Dg,{onLogin:x}))}function Dg({onLogin:t}){const[e,n]=b.useState(""),[r,i]=b.useState("");return u.createElement("div",{className:"grid cols-2",style:{alignItems:"start"}},u.createElement("div",{className:"card"},u.createElement("h3",null,"Accedi"),u.createElement("div",{className:"body"},u.createElement("div",{className:"row"},u.createElement("input",{placeholder:"Username (es. responsabile)",value:e,onChange:s=>n(s.target.value)})),u.createElement("div",{className:"row"},u.createElement("input",{placeholder:"Password (lemman)",type:"password",value:r,onChange:s=>i(s.target.value)})),u.createElement("div",{className:"row"},u.createElement("button",{onClick:()=>t(e,r)},"Entra"),u.createElement("span",{className:"muted"},"Demo: responsabile / lemman — mario.rossi / lemman")))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Info"),u.createElement("div",{className:"body"},u.createElement("div",{className:"muted"},"Demo in memoria con salvataggio locale (offline-first)."))))}function zg({user:t,shifts:e,tasks:n,posts:r,notifications:i}){const s=t.role==="Responsabile";return u.createElement("div",{className:"grid cols-2"},u.createElement("div",{className:"card"},u.createElement("h3",null,s?"📊 Turni settimanali assegnati":"📅 Il mio turno (settimana)"),u.createElement("div",{className:"body"},e.length===0?u.createElement("div",{className:"muted"},"Nessun turno."):u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Dipendente"),u.createElement("th",null,"Settimana"),u.createElement("th",null,"Orario"),u.createElement("th",null,"Sede"))),u.createElement("tbody",null,e.map(o=>u.createElement("tr",{key:o.id},u.createElement("td",null,o.dip),u.createElement("td",null,o.week),u.createElement("td",null,o.hours),u.createElement("td",null,o.site||"—"))))))),u.createElement("div",{className:"card"},u.createElement("h3",null,"📝 Attività"),u.createElement("div",{className:"body"},n.length===0?u.createElement("div",{className:"muted"},"Nessuna attività."):u.createElement("ul",null,n.map(o=>u.createElement("li",{key:o.id},u.createElement("input",{type:"checkbox",checked:!!o.done,readOnly:!0,style:{marginRight:6}}),o.title," (",o.date,") ",o.done?"✓ Completata":"⏳ Da fare"," ",o.photo?u.createElement("a",{href:o.photo,target:"_blank",rel:"noreferrer"},"[foto]"):null))))),i&&i.length>0&&u.createElement("div",{className:"card",style:{gridColumn:"1 / -1"}},u.createElement("h3",null,"🔔 Notifiche"),u.createElement("div",{className:"body"},u.createElement("ul",null,i.map(o=>u.createElement("li",{key:o.id},u.createElement("b",null,new Date(o.ts).toLocaleString("it-IT"))," — ",o.text))))),u.createElement("div",{className:"card",style:{gridColumn:"1 / -1"}},u.createElement("h3",null,"📢 Bacheca"),u.createElement("div",{className:"body"},r.length===0?u.createElement("div",{className:"muted"},"Nessuna comunicazione."):u.createElement("ul",null,r.map(o=>u.createElement("li",{key:o.id},u.createElement("b",null,o.title)," — ",o.body," ",u.createElement("span",{className:"muted"},"(",new Date(o.ts).toLocaleString("it-IT"),")")))))))}function Ug({myShifts:t,curWeek:e}){return u.createElement("div",{className:"card"},u.createElement("h3",null,"Turni"),u.createElement("div",{className:"body"},t.current.length===0&&t.next.length===0?u.createElement("div",{className:"muted"},"Nessun turno."):u.createElement(u.Fragment,null,u.createElement("h4",null,"Settimana corrente"),u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Periodo"),u.createElement("th",null,"Orario"),u.createElement("th",null,"Sede"))),u.createElement("tbody",null,t.current.map(n=>{const r=n.startDate&&n.endDate?`${n.startDate} → ${n.endDate}`:n.week||"—";return u.createElement("tr",{key:n.id},u.createElement("td",null,r),u.createElement("td",null,n.hours),u.createElement("td",null,n.site||"—"))}))),u.createElement("h4",null,"Prossima settimana"),u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Periodo"),u.createElement("th",null,"Orario"),u.createElement("th",null,"Sede"))),u.createElement("tbody",null,t.next.map(n=>{const r=n.startDate&&n.endDate?`${n.startDate} → ${n.endDate}`:n.week||"—";return u.createElement("tr",{key:n.id},u.createElement("td",null,r),u.createElement("td",null,n.hours),u.createElement("td",null,n.site||"—"))}))))))}function Mg({tasks:t,onToggle:e}){return u.createElement("div",{className:"card"},u.createElement("h3",null,"Le mie attività di oggi"),u.createElement("div",{className:"body"},t.length===0?u.createElement("div",{className:"muted"},"Nessuna attività."):u.createElement("ul",null,t.filter(n=>!n.done).map(n=>u.createElement("li",{key:n.id},u.createElement("label",null,u.createElement("input",{type:"checkbox",checked:!!n.done,onChange:()=>e(n.id)})," ",n.title," (",n.date,")"),n.photo&&u.createElement(u.Fragment,null," ",u.createElement("a",{href:n.photo,target:"_blank",rel:"noreferrer"},"[foto]")))))))}function Fg({user:t,db:e,setDb:n,myReports:r}){const[i,s]=b.useState(Ut()),[o,l]=b.useState(""),[a,c]=b.useState(""),[f,d]=b.useState(8),[m,y]=b.useState(""),[_,k]=b.useState(""),[x,v]=b.useState([]),p=e.commesse.find(w=>w.id===o)||null,h=p?.posizioni||[],g=!!p?.boundSite&&p.lockSite;b.useEffect(()=>{p?.boundSite&&y(p.boundSite)},[o]);async function C(w){const P=w.target.files&&w.target.files[0];if(P){try{const F=await Rg(P);v($=>[...$,F])}catch{alert("Errore lettura foto")}w.target.value=""}}function S(){if(!o||!a||!_.trim()||!m&&!g)return alert("Compila commessa, posizione, cantiere e descrizione.");const w={id:ie(),date:i,dip:t.name,commessaId:o,posizioneId:a,ore:Number(f)||0,site:g?p.boundSite||"":m,descr:_.trim(),stato:"Inviato",noteResp:"",photos:[...x]};n(P=>({...P,reports:[w,...P.reports]})),d(8),y(""),k(""),v([])}return u.createElement("div",{className:"grid cols-2"},u.createElement("div",{className:"card"},u.createElement("h3",null,"Nuovo rapportino"),u.createElement("div",{className:"body"},u.createElement("div",{className:"row"},u.createElement("label",null,"Data"),u.createElement("input",{type:"date",value:i,onChange:w=>s(w.target.value)})),u.createElement("div",{className:"row"},u.createElement("label",null,"Ore"),u.createElement("input",{type:"number",min:"0",max:"24",value:f,onChange:w=>d(w.target.value)})),u.createElement("div",{className:"row"},u.createElement("label",null,"Commessa"),u.createElement("select",{value:o,onChange:w=>{l(w.target.value),c("")}},u.createElement("option",{value:""},"— seleziona —"),e.commesse.filter(w=>w.active).map(w=>u.createElement("option",{key:w.id,value:w.id},w.code," — ",w.desc)))),u.createElement("div",{className:"row"},u.createElement("label",null,"Posizione"),u.createElement("select",{value:a,onChange:w=>c(w.target.value),disabled:!o},u.createElement("option",{value:""},"— seleziona —"),h.map(w=>u.createElement("option",{key:w.id,value:w.id},w.name)))),u.createElement("div",{className:"row"},u.createElement("label",null,"Cantiere"),u.createElement("select",{value:m,onChange:w=>y(w.target.value),disabled:g},u.createElement("option",{value:""},"— seleziona cantiere —"),e.cantieri.map(w=>u.createElement("option",{key:w.id,value:w.name},w.name))),g&&u.createElement("span",{className:"pill"},"vincolato da commessa")),u.createElement("div",{className:"row",style:{flex:"1 1 100%"}},u.createElement("label",null,"Descrizione"),u.createElement("textarea",{value:_,onChange:w=>k(w.target.value),placeholder:"Dettagli attività"})),u.createElement("div",{className:"row"},u.createElement("label",null,"Foto (scatta o carica)"),u.createElement("input",{type:"file",accept:"image/*",capture:"environment",onChange:C}),x.map((w,P)=>u.createElement("img",{className:"preview",src:w,alt:"foto"+P,key:P}))),u.createElement("div",{className:"row"},u.createElement("button",{onClick:S},"Invia"),u.createElement("span",{className:"muted"},"Le foto restano nel rapportino.")))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Storico miei rapportini (settimana corrente)"),u.createElement("div",{className:"body"},r.length===0?u.createElement("div",{className:"muted"},"Ancora nessun rapportino per questa settimana."):u.createElement("div",{style:{overflowX:"auto"}},u.createElement("table",{style:{minWidth:1200}},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Data"),u.createElement("th",null,"Commessa"),u.createElement("th",null,"Posizione"),u.createElement("th",null,"Cantiere"),u.createElement("th",null,"Ore"),u.createElement("th",null,"Stato"),u.createElement("th",null,"Foto"))),u.createElement("tbody",null,r.map(w=>{const P=e.commesse.find(Z=>Z.id===w.commessaId)?.code||"—",F=e.commesse.flatMap(Z=>Z.posizioni).find(Z=>Z.id===w.posizioneId)?.name||"—",$=w.stato==="Approvato"?"appr":w.stato==="Modificato"?"mod":w.stato==="Respinto"?"rej":"sent";return u.createElement("tr",{key:w.id},u.createElement("td",null,w.date),u.createElement("td",null,P),u.createElement("td",null,F),u.createElement("td",null,w.site||"—"),u.createElement("td",null,w.ore),u.createElement("td",null,u.createElement("span",{className:"badge "+$},w.stato)),u.createElement("td",null,(w.photos||[]).length?w.photos.map((Z,Xe)=>u.createElement("img",{className:"preview",src:Z,alt:"p"+Xe,key:Xe})):"—"))})))))))}function Bg({posts:t,isResp:e,onAdd:n}){const[r,i]=b.useState(""),[s,o]=b.useState(""),[l,a]=b.useState(null),[c,f]=b.useState(""),[d,m]=b.useState(""),y=e&&typeof window<"u"&&typeof window._setDb=="function";function _(){!r.trim()||!s.trim()||(n(r,s),i(""),o(""))}function k(p){y&&window._setDb(h=>({...h,posts:h.posts.filter(g=>g.id!==p)}))}function x(p){a(p.id),f(p.title),m(p.body)}function v(){!y||!l||(window._setDb(p=>({...p,posts:p.posts.map(h=>h.id===l?{...h,title:c,body:d}:h)})),a(null),f(""),m(""))}return u.createElement("div",{className:"grid cols-2"},e&&u.createElement("div",{className:"card"},u.createElement("h3",null,"Nuova comunicazione"),u.createElement("div",{className:"body"},u.createElement("input",{placeholder:"Titolo",value:r,onChange:p=>i(p.target.value)}),u.createElement("textarea",{placeholder:"Testo",value:s,onChange:p=>o(p.target.value)}),u.createElement("button",{onClick:_},"Pubblica"))),u.createElement("div",{className:"card",style:{gridColumn:"1 / -1"}},u.createElement("h3",null,"Comunicazioni"),u.createElement("div",{className:"body"},t.length===0?u.createElement("div",{className:"muted"},"Nessuna comunicazione."):u.createElement("ul",null,t.map(p=>u.createElement("li",{key:p.id,style:{marginBottom:10}},u.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8}},u.createElement("div",null,u.createElement("b",null,p.title)," ",u.createElement("span",{className:"muted"},"(",new Date(p.ts).toLocaleString("it-IT"),")"),u.createElement("div",null,p.body)),y&&u.createElement("div",{className:"row"},u.createElement("button",{className:"ghost",onClick:()=>x(p)},"Modifica"),u.createElement("button",{onClick:()=>k(p.id)},"Elimina")))))),y&&l&&u.createElement("div",{style:{marginTop:12,padding:12,border:"1px solid var(--line)",borderRadius:10,background:"#fafafa"}},u.createElement("div",{className:"row"},u.createElement("b",null,"Modifica comunicazione")),u.createElement("input",{placeholder:"Titolo",value:c,onChange:p=>f(p.target.value)}),u.createElement("textarea",{placeholder:"Testo",value:d,onChange:p=>m(p.target.value)}),u.createElement("div",{className:"row"},u.createElement("button",{onClick:v},"Salva"),u.createElement("button",{className:"ghost",onClick:()=>{a(null),f(""),m("")}},"Annulla"))))))}function Wg({db:t,setDb:e}){const[n,r]=b.useState(""),[i,s]=b.useState(""),[o,l]=b.useState(""),[a,c]=b.useState(!0),[f,d]=b.useState(""),[m,y]=b.useState(""),[_,k]=b.useState(""),[x,v]=b.useState(Ut()),[p,h]=b.useState(""),[g,C]=b.useState(""),[S,w]=b.useState(""),[P,F]=b.useState("inviato"),[$,Z]=b.useState(""),[Xe,_t]=b.useState(null),[nr,rr]=b.useState(""),[mn,Kt]=b.useState(""),[N,R]=b.useState(Ge(qe())),[I,q]=b.useState(""),[G,vn]=b.useState(""),Ze=b.useMemo(()=>{const E=I||G||"";if(!E)return N;try{return Ge(qe(new Date(E)))}catch{return N}},[I,G,N]),[qt,et]=b.useState(""),[Gt,Of]=b.useState("08:00–17:00"),[pa,ma]=b.useState(""),Os=Nf.filter(E=>E.role==="Dipendente");function bf(){n.trim()&&(e(E=>({...E,commesse:[...E.commesse,{id:ie(),code:n.trim(),desc:i.trim(),boundSite:o||"",lockSite:!!a,active:!0,posizioni:[]}]})),r(""),s(""),l(""),c(!0))}function jf(E){e(j=>({...j,commesse:j.commesse.map(z=>z.id===E?{...z,active:!z.active}:z)}))}function Rf(E){confirm("Eliminare la commessa? I rapportini collegati perderanno il riferimento.")&&e(j=>({...j,commesse:j.commesse.filter(z=>z.id!==E),reports:j.reports.map(z=>z.commessaId===E?{...z,commessaId:"",posizioneId:""}:z)}))}function If(){!f||!m.trim()||(e(E=>({...E,commesse:E.commesse.map(j=>j.id===f?{...j,posizioni:[...j.posizioni||[],{id:ie(),name:m.trim()}]}:j)})),y(""))}function Af(E,j){e(z=>({...z,commesse:z.commesse.map(le=>le.id===E?{...le,posizioni:le.posizioni.filter(lt=>lt.id!==j)}:le),reports:z.reports.map(le=>le.posizioneId===j?{...le,posizioneId:""}:le)}))}function $f(E){e(j=>({...j,reports:j.reports.map(z=>z.id===E?{...z,state:"approvato",note:""}:z)}))}function Lf(E){const j=prompt("Motivo del rifiuto (obbligatorio):",$||"");!j||!j.trim()||(e(z=>({...z,reports:z.reports.map(le=>le.id===E?{...le,state:"respinto",note:j.trim()}:le)})),Z(""))}function Df(E){_t(E.id),rr(String(E.hours||E.ore||"8")),Kt(E.desc||E.descr||"")}function zf(E){e(j=>({...j,reports:j.reports.map(z=>z.id===E?{...z,hours:Number(nr)||0,desc:mn}:z)})),_t(null),rr(""),Kt("")}const va=t.reports.filter(E=>!S||E.dip===S).filter(E=>P==="tutti"?!0:E.state===P).sort((E,j)=>(E.date||"").localeCompare(j.date||""));function Uf(){!qt||!N||(e(E=>({...E,weeklyShifts:[{id:ie(),dip:qt,week:Ze,startDate:I||void 0,endDate:G||void 0,hours:Gt,site:pa},...E.weeklyShifts]})),et(""),ma(""))}function Mf(E){e(j=>({...j,weeklyShifts:j.weeklyShifts.filter(z=>z.id!==E)}))}const ga=t.weeklyShifts.filter(E=>E.week===N);return u.createElement("div",{className:"grid cols-2"},u.createElement("div",{className:"card"},u.createElement("h3",null,"Nuova commessa"),u.createElement("div",{className:"body"},u.createElement("div",{className:"row"},u.createElement("input",{placeholder:"Codice",value:n,onChange:E=>r(E.target.value)}),u.createElement("input",{placeholder:"Descrizione",value:i,onChange:E=>s(E.target.value)}),u.createElement("input",{placeholder:"Cantiere vincolato (opz.)",value:o,onChange:E=>l(E.target.value)}),u.createElement("label",{className:"row"},u.createElement("input",{type:"checkbox",checked:a,onChange:E=>c(E.target.checked)}),"Blocca cantiere"),u.createElement("button",{onClick:bf},"Aggiungi")))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Gestione commesse"),u.createElement("div",{className:"body"},t.commesse.length===0?u.createElement("div",{className:"muted"},"Nessuna commessa."):u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Codice"),u.createElement("th",null,"Descrizione"),u.createElement("th",null,"Cantiere"),u.createElement("th",null,"Blocco"),u.createElement("th",null,"Stato"),u.createElement("th",null,"Azioni"))),u.createElement("tbody",null,t.commesse.map(E=>u.createElement("tr",{key:E.id},u.createElement("td",null,E.code),u.createElement("td",null,E.desc||"—"),u.createElement("td",null,E.boundSite||"—"),u.createElement("td",null,E.lockSite?"bloccato":"—"),u.createElement("td",null,E.active?u.createElement("span",{className:"pill ok"},"attiva"):u.createElement("span",{className:"pill"},"disattiva")),u.createElement("td",null,u.createElement("button",{className:"ghost",onClick:()=>jf(E.id)},E.active?"Disattiva":"Attiva"),u.createElement("button",{onClick:()=>Rf(E.id)},"Elimina")))))))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Posizioni di commessa"),u.createElement("div",{className:"body"},u.createElement("div",{className:"row"},u.createElement("select",{value:f,onChange:E=>d(E.target.value)},u.createElement("option",{value:""},"— seleziona commessa —"),t.commesse.map(E=>u.createElement("option",{key:E.id,value:E.id},E.code," — ",E.desc))),u.createElement("input",{placeholder:"Nome posizione",value:m,onChange:E=>y(E.target.value)}),u.createElement("button",{onClick:If},"Aggiungi posizione")),f&&(()=>{const E=t.commesse.find(j=>j.id===f);return E&&E.posizioni&&E.posizioni.length>0?u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Posizione"),u.createElement("th",null,"Azioni"))),u.createElement("tbody",null,E.posizioni.map(j=>u.createElement("tr",{key:j.id},u.createElement("td",null,j.name),u.createElement("td",null,u.createElement("button",{onClick:()=>Af(E.id,j.id)},"Rimuovi")))))):u.createElement("div",{className:"muted"},"Nessuna posizione per questa commessa.")})())),u.createElement("div",{className:"card",style:{gridColumn:"1 / -1"}},u.createElement("h3",null,"Rapportini dipendenti"),u.createElement("div",{className:"body"},u.createElement("div",{className:"row"},u.createElement("select",{value:S,onChange:E=>w(E.target.value)},u.createElement("option",{value:""},"Tutti i dipendenti"),Os.map(E=>u.createElement("option",{key:E.username,value:E.name},E.name))),u.createElement("select",{value:P,onChange:E=>F(E.target.value)},u.createElement("option",{value:"tutti"},"Stato: tutti"),u.createElement("option",{value:"inviato"},"Inviati"),u.createElement("option",{value:"approvato"},"Approvati"),u.createElement("option",{value:"respinto"},"Respinti"))),va.length===0?u.createElement("div",{className:"muted"},"Nessun rapportino trovato."):u.createElement("div",{style:{overflowX:"auto",overflowY:"hidden"}},u.createElement("table",{style:{minWidth:1200}},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Data"),u.createElement("th",null,"Dipendente"),u.createElement("th",null,"Commessa"),u.createElement("th",null,"Posizione"),u.createElement("th",null,"Ore"),u.createElement("th",null,"Descrizione"),u.createElement("th",null,"Stato"),u.createElement("th",null,"Azioni"))),u.createElement("tbody",null,va.map(E=>{const j=t.commesse.find(lt=>lt.id===E.commessaId),z=j?.posizioni?.find(lt=>lt.id===E.posizioneId),le=Xe===E.id;return u.createElement("tr",{key:E.id},u.createElement("td",null,E.date),u.createElement("td",null,E.dip),u.createElement("td",null,j?j.code:"—"),u.createElement("td",null,z?z.name:"—"),u.createElement("td",null,le?u.createElement("input",{value:nr,onChange:lt=>rr(lt.target.value),style:{width:60}}):E.hours||E.ore||0),u.createElement("td",null,le?u.createElement("input",{value:mn,onChange:lt=>Kt(lt.target.value)}):E.desc||E.descr||""),u.createElement("td",null,E.state||"inviato"),u.createElement("td",{className:"row",style:{gap:6}},le?u.createElement("button",{onClick:()=>zf(E.id)},"Salva"):u.createElement("button",{className:"ghost",onClick:()=>Df(E)},"Modifica"),u.createElement("button",{className:"ghost",onClick:()=>$f(E.id)},"Approva"),u.createElement("button",{onClick:()=>Lf(E.id)},"Respingi")))})))))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Turni"),u.createElement("div",{className:"body"},u.createElement("div",{className:"row"},u.createElement("span",{className:"pill"},"Settimana: ",Ze),u.createElement("input",{type:"date",value:I||"",onChange:E=>{const j=E.target.value;q(j);try{R(Ge(qe(new Date(j))))}catch{}},placeholder:"Inizio"}),u.createElement("input",{type:"date",value:G||"",onChange:E=>{const j=E.target.value;vn(j);try{R(Ge(qe(new Date(j))))}catch{}},placeholder:"Fine"}),u.createElement("select",{value:qt,onChange:E=>et(E.target.value)},u.createElement("option",{value:""},"— dipendente —"),Os.map(E=>u.createElement("option",{key:E.username,value:E.name},E.name))),u.createElement("input",{value:Gt,onChange:E=>Of(E.target.value),placeholder:"08:00–17:00"}),u.createElement("input",{value:pa,onChange:E=>ma(E.target.value),placeholder:"Sede/Cantiere"}),u.createElement("button",{onClick:Uf},"Aggiungi turno")),ga.length===0?u.createElement("div",{className:"muted"},"Nessun turno impostato per ",N,"."):u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Dipendente"),u.createElement("th",null,"Settimana"),u.createElement("th",null,"Orario"),u.createElement("th",null,"Sede"),u.createElement("th",null))),u.createElement("tbody",null,ga.map(E=>u.createElement("tr",{key:E.id},u.createElement("td",null,E.dip),u.createElement("td",null,E.week),u.createElement("td",null,E.hours),u.createElement("td",null,E.site||"—"),u.createElement("td",null,u.createElement("button",{onClick:()=>Mf(E.id)},"Rimuovi")))))))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Assegna attività (opzionale)"),u.createElement("div",{className:"body"},u.createElement("div",{className:"row"},u.createElement("select",{value:_,onChange:E=>k(E.target.value)},u.createElement("option",{value:""},"— scegli dipendente —"),Os.map(E=>u.createElement("option",{key:E.username,value:E.name},E.name))),u.createElement("input",{type:"date",value:x,onChange:E=>v(E.target.value)}),u.createElement("input",{placeholder:"Titolo attività",value:p,onChange:E=>h(E.target.value)}),u.createElement("input",{type:"file",accept:"image/*",onChange:E=>{const j=E.target.files&&E.target.files[0];if(!j)return;const z=new FileReader;z.onload=le=>C(String(le.target.result)),z.readAsDataURL(j)}}),u.createElement("button",{onClick:()=>{!_||!p.trim()||(e(E=>({...E,tasks:[{id:ie(),dip:_,date:x,title:p.trim(),photo:g||"",done:!1},...E.tasks]})),k(""),h(""),C(""))}},"Assegna")),u.createElement("div",{className:"muted"},"Le attività assegnate sono visibili nella Home del dipendente selezionato."))))}function Hg({db:t,curWeek:e}){const[n,r]=b.useState(new Date().toISOString().slice(0,7)),[i,s]=b.useState(""),[o,l]=b.useState(""),a=[...new Set(t.reports.map(h=>h.dip))].filter(Boolean),c=t.commesse,f=t.reports.filter(h=>{const[g,C,S]=h.date.split("-").map(Number);return Ge(qe(new Date(g,C-1,S)))===e&&(!i||h.dip===i)&&(!o||h.commessaId===o)}),m=((h,g)=>h.reduce((C,S)=>C+(g(S)||0),0))(f,h=>Number(h.hours||h.ore||h.h||0)||0),y={},_={};f.forEach(h=>{y[h.dip]=(y[h.dip]||0)+(Number(h.hours||h.ore||0)||0),_[h.commessaId]=(_[h.commessaId]||0)+(Number(h.hours||h.ore||0)||0)});const k=h=>{const g=c.find(C=>C.id===h);return g?g.code+(g.desc?" — "+g.desc:""):"—"},x=Math.max(1,...Object.values(y)),v=Math.max(1,...Object.values(_)),p=({value:h,max:g})=>u.createElement("div",{style:{background:"#f2f2f2",border:"1px solid var(--line)",borderRadius:10}},u.createElement("div",{style:{height:10,width:`${Math.round(h/g*100)}%`}}));return u.createElement("div",{className:"grid cols-2"},u.createElement("div",{className:"card"},u.createElement("h3",null,"Filtri (settimana ",e,")"),u.createElement("div",{className:"body"},u.createElement("div",{className:"row"},u.createElement("select",{value:i,onChange:h=>s(h.target.value)},u.createElement("option",{value:""},"Tutti i dipendenti"),a.map(h=>u.createElement("option",{key:h,value:h},h))),u.createElement("select",{value:o,onChange:h=>l(h.target.value)},u.createElement("option",{value:""},"Tutte le commesse"),c.map(h=>u.createElement("option",{key:h.id,value:h.id},h.code," — ",h.desc))),u.createElement("div",{className:"muted"},"Totale ore: ",u.createElement("b",null,m))))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Ore per dipendente"),u.createElement("div",{className:"body"},Object.keys(y).length===0?u.createElement("div",{className:"muted"},"Nessun dato."):u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Dipendente"),u.createElement("th",null,"Ore"),u.createElement("th",{style:{width:220}},"Grafico"))),u.createElement("tbody",null,Object.entries(y).map(([h,g])=>u.createElement("tr",{key:h},u.createElement("td",null,h),u.createElement("td",null,g),u.createElement("td",null,u.createElement(p,{value:g,max:x})))))))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Ore per commessa"),u.createElement("div",{className:"body"},Object.keys(_).length===0?u.createElement("div",{className:"muted"},"Nessun dato."):u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Commessa"),u.createElement("th",null,"Ore"),u.createElement("th",{style:{width:220}},"Grafico"))),u.createElement("tbody",null,Object.entries(_).map(([h,g])=>u.createElement("tr",{key:h},u.createElement("td",null,k(h)),u.createElement("td",null,g),u.createElement("td",null,u.createElement(p,{value:g,max:v})))))))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Ore per dipendente (mese ",n,")"),u.createElement("div",{className:"body"},(()=>{const h=t.reports.filter(w=>w.date&&w.date.slice(0,7)===n),g={};h.forEach(w=>{g[w.dip]=(g[w.dip]||0)+(Number(w.hours||w.ore||0)||0)});const C=Math.max(1,...Object.values(g)),S=({value:w,max:P})=>u.createElement("div",{style:{background:"#f2f2f2",border:"1px solid var(--line)",borderRadius:10}},u.createElement("div",{style:{height:10,width:`${Math.round(w/P*100)}%`}}));return Object.keys(g).length===0?u.createElement("div",{className:"muted"},"Nessun dato nel mese selezionato."):u.createElement(u.Fragment,null,u.createElement("div",{className:"row"},u.createElement("input",{type:"month",value:n,onChange:w=>r(w.target.value)})),u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Dipendente"),u.createElement("th",null,"Ore"),u.createElement("th",{style:{width:220}},"Grafico"))),u.createElement("tbody",null,Object.entries(g).map(([w,P])=>u.createElement("tr",{key:w},u.createElement("td",null,w),u.createElement("td",null,P),u.createElement("td",null,u.createElement(S,{value:P,max:C})))))))})())))}function Vg({db:t,curWeek:e}){const[n,r]=b.useState(""),[i,s]=b.useState(""),o=t.commesse,a=o.find(d=>d.id===n)?.posizioni||[],c=[];for(const d of o){const m=d.posizioni||[];if(m.length===0){const y=t.reports.filter(_=>_.commessaId===d.id).filter(_=>{const[k,x,v]=_.date.split("-").map(Number);return Ge(qe(new Date(k,x-1,v)))===e}).reduce((_,k)=>_+(Number(k.hours||k.ore||k.h||0)||0),0);c.push({key:d.id+"_none",commessa:d.code,posizione:"—",ore:y})}else for(const y of m){const _=t.reports.filter(k=>k.commessaId===d.id&&k.posizioneId===y.id).filter(k=>{const[x,v,p]=k.date.split("-").map(Number);return Ge(qe(new Date(x,v-1,p)))===e}).reduce((k,x)=>k+(Number(x.hours||x.ore||x.h||0)||0),0);c.push({key:d.id+"_"+y.id,commessaId:d.id,posId:y.id,commessa:d.code,posizione:y.name,ore:_})}}c.sort((d,m)=>d.commessa.localeCompare(m.commessa)||d.posizione.localeCompare(m.posizione));const f=t.reports.filter(d=>!n||d.commessaId===n).filter(d=>!i||d.posizioneId===i).sort((d,m)=>(d.date||"").localeCompare(m.date||""));return u.createElement("div",{className:"grid cols-2"},u.createElement("div",{className:"card"},u.createElement("h3",null,"Report ore (settimana ",e,")"),u.createElement("div",{className:"body"},c.length===0?u.createElement("div",{className:"muted"},"Nessun dato."):u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Commessa"),u.createElement("th",null,"Posizione"),u.createElement("th",null,"Ore totali"),u.createElement("th",null))),u.createElement("tbody",null,c.map(d=>u.createElement("tr",{key:d.key},u.createElement("td",null,d.commessa),u.createElement("td",null,d.posizione),u.createElement("td",null,d.ore),u.createElement("td",null,u.createElement("button",{className:"ghost",onClick:()=>{r(d.commessaId||""),s(d.posId||"")}},"Dettagli")))))),u.createElement("div",{className:"row",style:{marginTop:8}},u.createElement("select",{value:n,onChange:d=>{r(d.target.value),s("")}},u.createElement("option",{value:""},"— commessa —"),o.map(d=>u.createElement("option",{key:d.id,value:d.id},d.code," — ",d.desc))),u.createElement("select",{value:i,onChange:d=>s(d.target.value),disabled:!n},u.createElement("option",{value:""},"— posizione —"),a.map(d=>u.createElement("option",{key:d.id,value:d.id},d.name)))))),u.createElement("div",{className:"card"},u.createElement("h3",null,"Dettaglio rapportini"),u.createElement("div",{className:"body"},f.length===0?u.createElement("div",{className:"muted"},"Seleziona una commessa/posizione per vedere i rapportini in ordine giornaliero."):u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Data"),u.createElement("th",null,"Dipendente"),u.createElement("th",null,"Ore"),u.createElement("th",null,"Descrizione"))),u.createElement("tbody",null,f.map(d=>u.createElement("tr",{key:d.id},u.createElement("td",null,d.date),u.createElement("td",null,d.dip),u.createElement("td",null,d.hours||d.ore||0),u.createElement("td",null,d.desc||d.descr||""))))))))}nf(document.getElementById("root")).render(u.createElement(Lg,null));
